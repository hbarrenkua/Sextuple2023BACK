"use strict";(self.webpackChunkAgilityFrontEnd=self.webpackChunkAgilityFrontEnd||[]).push([[681],{2681:(ca,mt,u)=>{u.r(mt),u.d(mt,{ConsolaModule:()=>aa});var f=u(6895),Tt=u(4406),Dt=u(5823),l=u(4006),_=u(9299),t=u(4650);let kt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home-consola"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"home works!"),t.qZA())},encapsulation:2}),n})();var nt=u(3267);let At=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-breadcrumbs"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"breadcrumbs works!"),t.qZA())},encapsulation:2}),n})();var L=u(6338);function wt(n,r){if(1&n&&(t.TgZ(0,"a",1,2),t._uU(2),t.qZA()),2&n){const e=r.$implicit,o=t.MAs(1);t.ekj("list-item-active",o.isActive),t.Q6J("routerLink",e.ruta),t.uIk("tabindex",o.isActive?0:-1),t.xp6(2),t.hij(" ",e.nombre," ")}}let yt=(()=>{class n{constructor(){this.links=[{nombre:"Federaciones",ruta:"federaciones"},{nombre:"Reglamentos",ruta:"reglamentos"},{nombre:"Clubes",ruta:"clubes"},{nombre:"Perros",ruta:"perros"},{nombre:"Guias",ruta:"guias"},{nombre:"Jueces",ruta:"jueces"},{nombre:"Creaci\xf3n de pruebas",ruta:"pruebas"},{nombre:"Jornada",ruta:"editarJornada/1"},{nombre:"Evento",ruta:"nuevoEvento"},{nombre:"Oden de salida",ruta:"ordenSalida/1/1"},{nombre:"Inicio manga",ruta:"inicioManga"},{nombre:"Cronos",ruta:"cronos"}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sidebar"]],decls:2,vars:1,consts:[["mat-list-item","","routerLinkActive","",3,"routerLink","list-item-active",4,"ngFor","ngForOf"],["mat-list-item","","routerLinkActive","",3,"routerLink"],["routerLinkActiveInstance","routerLinkActive"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-nav-list"),t.YNc(1,wt,3,5,"a",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.links))},dependencies:[f.sg,L.Hk,L.Tg,_.yS,_.Od]}),n})();var Z=u(4859),F=u(7392),Pt=u(3683);let Ft=(()=>{class n{constructor(){this.openMenu=new t.vpe}ngOnInit(){}mostrarMenu(){this.openMenu.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-header"]],outputs:{openMenu:"openMenu"},decls:13,vars:0,consts:[["color","primary"],["mat-icon-button","",3,"click"],[1,"spacer"],["mat-icon-button",""],["mat-icon-button","","aria-label","Logout","title","Logout"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-toolbar",0)(1,"button",1),t.NdJ("click",function(){return o.mostrarMenu()}),t.TgZ(2,"mat-icon"),t._uU(3,"menu"),t.qZA()(),t.TgZ(4,"span"),t._uU(5,"Agility"),t.qZA(),t._UZ(6,"span",2),t.TgZ(7,"button",3)(8,"mat-icon"),t._uU(9,"favorite"),t.qZA()(),t.TgZ(10,"button",4)(11,"mat-icon"),t._uU(12,"logout"),t.qZA()()())},dependencies:[Z.lW,F.Hw,Pt.Ye],encapsulation:2}),n})(),Et=(()=>{class n{constructor(){this.isOpen=!1}ngOnInit(){}navOpen(){this.isOpen=!this.isOpen}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-consola"]],decls:7,vars:1,consts:[[3,"openMenu"],["autosize","",1,"s-container"],["mode","side",1,"s-sidenav",3,"opened"]],template:function(e,o){1&e&&(t.TgZ(0,"app-header",0),t.NdJ("openMenu",function(){return o.navOpen()}),t.qZA(),t._UZ(1,"app-breadcrumbs"),t.TgZ(2,"mat-sidenav-container",1)(3,"mat-sidenav",2),t._UZ(4,"app-sidebar"),t.qZA(),t.TgZ(5,"mat-sidenav-content"),t._UZ(6,"router-outlet"),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("opened",o.isOpen))},dependencies:[nt.JX,nt.TM,nt.Rh,_.lC,At,yt,Ft],styles:[".s-container[_ngcontent-%COMP%]{position:fixed;height:90vh;min-height:90vh;width:99%;min-width:99%;padding:10px}.s-content[_ngcontent-%COMP%]{display:flex;height:85vh;align-items:center;justify-content:center}.s-sidenav[_ngcontent-%COMP%]{padding:5px}"]}),n})();var y=u(7974),T=u(6308),Y=u(4968),q=u(6451),P=u(9646),M=u(8372),Q=u(8675),x=u(3900),G=u(262),R=u(4004),j=u(5412);let $=(()=>{class n{constructor(e,o){this.dialogRef=e,this.data=o}ngOnInit(){}borrar(){this.dialogRef.close(!0)}cerrar(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(j.so),t.Y36(j.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirmar"]],decls:12,vars:1,consts:[["mat-button","","color","warn",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"h1"),t._uU(1,"\xbfEst\xe1 seguro?"),t.qZA(),t._UZ(2,"hr"),t.TgZ(3,"p"),t._uU(4),t._UZ(5,"br"),t._uU(6," \xbfDesea continuar? "),t.qZA(),t.TgZ(7,"div")(8,"button",0),t.NdJ("click",function(){return o.borrar()}),t._uU(9,"Si, borrar!"),t.qZA(),t.TgZ(10,"button",0),t.NdJ("click",function(){return o.cerrar()}),t._uU(11,"Cancelar"),t.qZA()()),2&e&&(t.xp6(4),t.hij(" Est\xe1 a punto de borrar el club ",o.data.nombre," "))},dependencies:[Z.lW],encapsulation:2}),n})();var c=u(7155),b=u(529),D=u(2340);let B=(()=>{class n{constructor(e){this.http=e,this.baseUrl=D.N.baseUrl}getClubes(e="nombre",o="asc",a=0,i=5,s=""){const d=(new b.LE).appendAll({sort:e,order:o,desde:a,limite:i,like:s});return this.http.get(`${this.baseUrl}/api/clubes`,{params:d})}getClubById(e){return this.http.get(`${this.baseUrl}/api/clubes/${e}`)}putClub({fileSource:e="",...o}){const a=new FormData;for(const i of Object.keys(o))o[i]&&a.append(i,o[i]);return a.append("file",e),this.http.put(`${this.baseUrl}/api/clubes/${o.id}`,a)}postClub({fileSource:e="",...o}){const a=new FormData;for(const i of Object.keys(o))o[i]&&a.append(i,o[i]);return a.append("file",e),this.http.post(`${this.baseUrl}/api/clubes`,a)}deleteClub(e){return this.http.delete(`${this.baseUrl}/api/clubes/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(b.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var p=u(1576),v=u(3546),A=u(4850),h=u(9549),w=u(4144),H=u(1572);const Ot=["input"];function Lt(n,r){1&n&&t._UZ(0,"mat-spinner")}function jt(n,r){if(1&n&&(t.TgZ(0,"div",20),t.YNc(1,Lt,1,0,"mat-spinner",21),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isLoadingResults)}}function Ut(n,r){if(1&n&&(t.TgZ(0,"th",24),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.header," ")}}function qt(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.cell(e)," ")}}function Mt(n,r){1&n&&(t.ynx(0,22),t.YNc(1,Ut,2,1,"th",23),t.YNc(2,qt,2,1,"td",14),t.BQk()),2&n&&t.Q6J("matColumnDef",r.$implicit.columnDef)}function Nt(n,r){1&n&&(t.TgZ(0,"th",26),t._uU(1," \xa0 "),t.qZA())}function Jt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",25)(1,"button",27),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.editarClub(i.id))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()()()}}function It(n,r){1&n&&(t.TgZ(0,"th",26),t._uU(1," \xa0 "),t.qZA())}function St(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",25)(1,"button",27),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.eliminarClub(i))}),t.TgZ(2,"mat-icon",28),t._uU(3,"delete"),t.qZA()()()}}function Yt(n,r){1&n&&t._UZ(0,"tr",29)}function Qt(n,r){1&n&&t._UZ(0,"tr",30)}function Gt(n,r){if(1&n&&(t.TgZ(0,"tr",31)(1,"td",32),t._uU(2),t.qZA()()),2&n){t.oxw();const e=t.MAs(12);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Rt=function(){return[5,10,25,100]};let $t=(()=>{class n{constructor(e,o,a){this.clubesService=e,this.router=o,this.dialog=a,this.isLoadingResults=!0,this.resultsLength=0,this.clubes={count:0,rows:[]},this.columns=[{header:"Nombre",columnDef:"nombre",cell:i=>i.nombre},{header:"Nombre largo",columnDef:"nombreLargo",cell:i=>i.nombreLargo},{header:"Email",columnDef:"email",cell:i=>i.email},{header:"P\xe1gina web",columnDef:"urlWeb",cell:i=>i.urlWeb}],this.displayedColumns=this.columns.map(i=>i.columnDef),this.columnsToDisplayWithExpand=[...this.displayedColumns,"editar","eliminar"]}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0);const e=(0,Y.R)(this.filter.nativeElement,"keyup");e.subscribe(()=>this.paginator.pageIndex=0),(0,q.T)(this.sort.sortChange,this.paginator.page,e.pipe((0,M.b)(500))).pipe((0,Q.O)({}),(0,x.w)(()=>(this.isLoadingResults=!0,this.clubesService.getClubes(this.sort.active,this.sort.direction,this.paginator.pageIndex,this.paginator.pageSize,this.filter.nativeElement.value).pipe((0,G.K)(()=>(0,P.of)(null))))),(0,R.U)(o=>(this.isLoadingResults=!1,null===o?{count:0,rows:[]}:o))).subscribe(o=>{console.log(o),this.clubes=o})}editarClub(e){this.router.navigate(["consola","editarClub",e])}eliminarClub(e){this.dialog.open($,{width:"250px",data:e}).afterClosed().subscribe(a=>{a&&this.clubesService.deleteClub(e.id).subscribe(i=>{let s=new Event("keyup");this.filter.nativeElement.dispatchEvent(s)}),console.log(a)})}addClub(){this.router.navigate(["consola","agregarClub"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(B),t.Y36(_.F0),t.Y36(j.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-clubes"]],viewQuery:function(e,o){if(1&e&&(t.Gf(c.BZ,5),t.Gf(y.NW,5),t.Gf(T.YE,5),t.Gf(Ot,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.table=a.first),t.iGM(a=t.CRH())&&(o.paginator=a.first),t.iGM(a=t.CRH())&&(o.sort=a.first),t.iGM(a=t.CRH())&&(o.filter=a.first)}},decls:30,vars:8,consts:[["class","loading-shade",4,"ngIf"],["fxLayoutGap","10px"],["fxLayout","row","fxLayoutAlign","space-around center"],["fxFlex","90"],["fxFlex","100","appearance","fill"],["matInput",""],["input",""],[1,"spacer"],["fxFlex",""],["mat-raised-button","","color","primary",3,"click"],["mat-table","","matSort","","matSortActive","nombre","matSortDisableClear","","matSortDirection","asc",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","editar"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","eliminar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","club-row",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"length","pageSizeOptions"],[1,"loading-shade"],[4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["mat-icon-button","",3,"click"],["color","warn"],["mat-header-row",""],["mat-row","",1,"club-row"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,o){1&e&&(t.YNc(0,jt,2,1,"div",0),t.TgZ(1,"mat-card",1)(2,"h1"),t._uU(3,"Clubes"),t.qZA(),t._UZ(4,"mat-divider")(5,"br"),t.TgZ(6,"div",2)(7,"div",3)(8,"mat-form-field",4)(9,"mat-label"),t._uU(10,"Buscar club"),t.qZA(),t._UZ(11,"input",5,6),t.qZA()(),t._UZ(13,"div",7),t.TgZ(14,"div",8)(15,"button",9),t.NdJ("click",function(){return o.addClub()}),t._uU(16," Nuevo club "),t.qZA()()(),t.TgZ(17,"div")(18,"table",10),t.YNc(19,Mt,3,1,"ng-container",11),t.ynx(20,12),t.YNc(21,Nt,2,0,"th",13),t.YNc(22,Jt,4,0,"td",14),t.BQk(),t.ynx(23,15),t.YNc(24,It,2,0,"th",13),t.YNc(25,St,4,0,"td",14),t.BQk(),t.YNc(26,Yt,1,0,"tr",16),t.YNc(27,Qt,1,0,"tr",17),t.YNc(28,Gt,3,1,"tr",18),t.qZA()(),t._UZ(29,"mat-paginator",19),t.qZA()),2&e&&(t.Q6J("ngIf",o.isLoadingResults),t.xp6(18),t.Q6J("dataSource",o.clubes.rows),t.xp6(1),t.Q6J("ngForOf",o.columns),t.xp6(7),t.Q6J("matHeaderRowDef",o.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",o.columnsToDisplayWithExpand),t.xp6(2),t.Q6J("length",o.clubes.count)("pageSizeOptions",t.DdM(7,Rt)))},dependencies:[f.sg,f.O5,p.xw,p.SQ,p.Wh,p.yH,Z.lW,v.a8,A.d,F.Hw,h.KE,h.hX,w.Nt,y.NW,H.Ou,T.YE,T.nU,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,c.Ee],styles:["table[_ngcontent-%COMP%]{width:100%}tr.detail-row[_ngcontent-%COMP%]{height:0}.club-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.mat-column-nombre[_ngcontent-%COMP%]{min-width:120px;max-width:120px}.mat-column-nombreLargo[_ngcontent-%COMP%]{min-width:200px;max-width:2000px}.mat-column-email[_ngcontent-%COMP%], .mat-column-urlWeb[_ngcontent-%COMP%]{min-width:150px;max-width:150px}"]}),n})(),Bt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-perros"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"perros works!"),t.qZA())},encapsulation:2}),n})(),Ht=(()=>{class n{constructor(e){this.http=e,this.baseUrl=D.N.baseUrl}getGuias(e,o,a,i,s){const d=(new b.LE).appendAll({sort:e,order:o,desde:a,limite:i,like:s});return this.http.get(`${this.baseUrl}/api/guias`,{params:d})}getGuiaById(e){return this.http.get(`${this.baseUrl}/api/guias/${e}`)}putGuia({...e}){const o=new FormData;for(const a of Object.keys(e))e[a]&&o.append(a,e[a]);return this.http.put(`${this.baseUrl}/api/guias/${e.id}`,o)}postGuia({...e}){const o=new FormData;for(const a of Object.keys(e))e[a]&&o.append(a,e[a]);return this.http.post(`${this.baseUrl}/api/guias`,o)}deleteGuia(e){return this.http.delete(`${this.baseUrl}/api/guias/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(b.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zt=["input"];function Wt(n,r){1&n&&t._UZ(0,"mat-spinner")}function Xt(n,r){if(1&n&&(t.TgZ(0,"div",20),t.YNc(1,Wt,1,0,"mat-spinner",21),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isLoadingResults)}}function Kt(n,r){if(1&n&&(t.TgZ(0,"th",24),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.header," ")}}function Vt(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.cell(e)," ")}}function te(n,r){1&n&&(t.ynx(0,22),t.YNc(1,Kt,2,1,"th",23),t.YNc(2,Vt,2,1,"td",14),t.BQk()),2&n&&t.Q6J("matColumnDef",r.$implicit.columnDef)}function ee(n,r){1&n&&(t.TgZ(0,"th",26),t._uU(1," \xa0 "),t.qZA())}function ne(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",25)(1,"button",27),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.editarGuia(i.id))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()()()}}function oe(n,r){1&n&&(t.TgZ(0,"th",26),t._uU(1," \xa0 "),t.qZA())}function ae(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",25)(1,"button",27),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.eliminarGuia(i))}),t.TgZ(2,"mat-icon",28),t._uU(3,"delete"),t.qZA()()()}}function re(n,r){1&n&&t._UZ(0,"tr",29)}function ie(n,r){1&n&&t._UZ(0,"tr",30)}function se(n,r){if(1&n&&(t.TgZ(0,"tr",31)(1,"td",32),t._uU(2),t.qZA()()),2&n){t.oxw();const e=t.MAs(12);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const ce=function(){return[5,10,25,100]};let le=(()=>{class n{constructor(e,o,a){this.guiasService=e,this.router=o,this.dialog=a,this.isLoadingResults=!0,this.resultsLength=0,this.guias={count:0,rows:[]},this.columns=[{header:"Nombre",columnDef:"nombre",cell:i=>i.nombre},{header:"Club",columnDef:"club",cell:i=>i.club.nombre},{header:"Categor\xeda",columnDef:"categoria",cell:i=>i.categoria},{header:"Tel\xe9fono",columnDef:"telefono",cell:i=>i.telefono},{header:"Email",columnDef:"email",cell:i=>i.email}],this.displayedColumns=this.columns.map(i=>i.columnDef),this.columnsToDisplayWithExpand=[...this.displayedColumns,"editar","eliminar"]}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0);const e=(0,Y.R)(this.filter.nativeElement,"keyup");e.subscribe(()=>this.paginator.pageIndex=0),(0,q.T)(this.sort.sortChange,this.paginator.page,e.pipe((0,M.b)(500))).pipe((0,Q.O)({}),(0,x.w)(()=>(this.isLoadingResults=!0,this.guiasService.getGuias(this.sort.active,this.sort.direction,this.paginator.pageIndex,this.paginator.pageSize,this.filter.nativeElement.value).pipe((0,G.K)(()=>(0,P.of)(null))))),(0,R.U)(o=>(this.isLoadingResults=!1,null===o?{count:0,rows:[]}:o))).subscribe(o=>{console.log(o),this.guias=o})}editarGuia(e){this.router.navigate(["consola","editarGuia",e])}eliminarGuia(e){this.dialog.open($,{width:"250px",data:e}).afterClosed().subscribe(a=>{a&&this.guiasService.deleteGuia(e.id).subscribe(i=>{let s=new Event("keyup");this.filter.nativeElement.dispatchEvent(s)}),console.log(a)})}addGuia(){this.router.navigate(["consola","agregarGuia"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ht),t.Y36(_.F0),t.Y36(j.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-guias"]],viewQuery:function(e,o){if(1&e&&(t.Gf(c.BZ,5),t.Gf(y.NW,5),t.Gf(T.YE,5),t.Gf(zt,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.table=a.first),t.iGM(a=t.CRH())&&(o.paginator=a.first),t.iGM(a=t.CRH())&&(o.sort=a.first),t.iGM(a=t.CRH())&&(o.filter=a.first)}},decls:30,vars:8,consts:[["class","loading-shade",4,"ngIf"],["fxLayoutGap","10px"],["fxLayout","row","fxLayoutAlign","space-around center"],["fxFlex","90"],["fxFlex","100","appearance","fill"],["matInput",""],["input",""],[1,"spacer"],["fxFlex",""],["mat-raised-button","","color","primary",3,"click"],["mat-table","","matSort","","matSortActive","nombre","matSortDisableClear","","matSortDirection","asc",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","editar"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","eliminar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","guia-row",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"length","pageSizeOptions"],[1,"loading-shade"],[4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["mat-icon-button","",3,"click"],["color","warn"],["mat-header-row",""],["mat-row","",1,"guia-row"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,o){1&e&&(t.YNc(0,Xt,2,1,"div",0),t.TgZ(1,"mat-card",1)(2,"h1"),t._uU(3,"Gu\xedas"),t.qZA(),t._UZ(4,"mat-divider")(5,"br"),t.TgZ(6,"div",2)(7,"div",3)(8,"mat-form-field",4)(9,"mat-label"),t._uU(10,"Buscar guia"),t.qZA(),t._UZ(11,"input",5,6),t.qZA()(),t._UZ(13,"div",7),t.TgZ(14,"div",8)(15,"button",9),t.NdJ("click",function(){return o.addGuia()}),t._uU(16," Nuevo guia "),t.qZA()()(),t.TgZ(17,"div")(18,"table",10),t.YNc(19,te,3,1,"ng-container",11),t.ynx(20,12),t.YNc(21,ee,2,0,"th",13),t.YNc(22,ne,4,0,"td",14),t.BQk(),t.ynx(23,15),t.YNc(24,oe,2,0,"th",13),t.YNc(25,ae,4,0,"td",14),t.BQk(),t.YNc(26,re,1,0,"tr",16),t.YNc(27,ie,1,0,"tr",17),t.YNc(28,se,3,1,"tr",18),t.qZA()(),t._UZ(29,"mat-paginator",19),t.qZA()),2&e&&(t.Q6J("ngIf",o.isLoadingResults),t.xp6(18),t.Q6J("dataSource",o.guias.rows),t.xp6(1),t.Q6J("ngForOf",o.columns),t.xp6(7),t.Q6J("matHeaderRowDef",o.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",o.columnsToDisplayWithExpand),t.xp6(2),t.Q6J("length",o.guias.count)("pageSizeOptions",t.DdM(7,ce)))},dependencies:[f.sg,f.O5,p.xw,p.SQ,p.Wh,p.yH,Z.lW,v.a8,A.d,F.Hw,h.KE,h.hX,w.Nt,y.NW,H.Ou,T.YE,T.nU,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,c.Ee],styles:["table[_ngcontent-%COMP%]{width:100%}tr.detail-row[_ngcontent-%COMP%]{height:0}.club-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.mat-column-nombre[_ngcontent-%COMP%]{min-width:120px;max-width:120px}.mat-column-club[_ngcontent-%COMP%]{min-width:200px;max-width:2000px}.mat-column-email[_ngcontent-%COMP%], .mat-column-telefono[_ngcontent-%COMP%], .mat-column-categoria[_ngcontent-%COMP%]{min-width:150px;max-width:150px}"]}),n})(),pe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-jueces"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"jueces works!"),t.qZA())},encapsulation:2}),n})(),de=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pruebas"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"pruebas works!"),t.qZA())},encapsulation:2}),n})();var N=u(8505);let ue=(()=>{class n{constructor(e){this.http=e,this.baseUrl=D.N.baseUrl}getPaises(){return this.http.get(`${this.baseUrl}/api/paises`)}getPaisByCod(e){return this.http.get(`${this.baseUrl}/api/paises/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(b.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ot=u(7009),at=u(4641),z=u(4385),W=u(3238);let gt=(()=>{class n{constructor(){this.baseUrl=D.N.baseUrl}transform(e){return(e.id||e.logo)&&e.logo?"nombreLargo"in e?`${this.baseUrl}/api/uploads/clubes/${e.id}`:`${this.baseUrl}/api/uploads/federaciones/${e.id}`:"assets/no-image.png"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"logo",type:n,pure:!0}),n})();function me(n,r){if(1&n&&(t.TgZ(0,"mat-error"),t._UZ(1,"span",24),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("innerHtml",e.emailErrorMsg,t.oJD)}}function ge(n,r){if(1&n&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.codigo),t.xp6(1),t.hij(" ",e.nombre," ")}}function fe(n,r){if(1&n&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.nombre," ")}}let ft=(()=>{class n{constructor(e,o,a,i,s,d,g){this.clubesService=e,this.paisesService=o,this.activatedRoute=a,this._snackBar=i,this.router=s,this.fb=d,this.vs=g,this.club={id:0,nombre:"",nombreLargo:"",email:"",estado:!0,createdAt:new Date,updatedAt:new Date},this.provincias=[],this.paises=[],this.clubForm=this.fb.group({id:[],nombre:["",[l.kI.required]],nombreLargo:["",[l.kI.required]],email:["",[l.kI.required,l.kI.pattern(g.emailPattern)]],direccion:[""],lat:[0],lng:[0],urlWeb:[""],facebook:[""],logo:[""],logoNew:[""],observaciones:[""],provinciaId:[],paisCodigo:[],fileSource:[]})}ngOnInit(){this.paisesService.getPaises().subscribe(e=>{this.paises=e.rows}),this.clubForm.get("paisCodigo")?.valueChanges.pipe((0,N.b)(e=>{this.clubForm.get("paisCodigo")?.touched&&this.clubForm.get("provinciaId")?.reset(""),this.provincias=[]}),(0,x.w)(e=>e?this.paisesService.getPaisByCod(e):(0,P.of)(null))).subscribe(e=>{null!==e&&e.provincias&&(this.provincias=e.provincias)}),this.router.url.includes("editar")&&(this.activatedRoute.params.pipe((0,x.w)(({id:e})=>this.clubesService.getClubById(e))).subscribe(e=>{this.club=e,this.clubForm.reset({...this.club})}),this.clubForm.valueChanges.subscribe(({...e})=>{this.club=e}))}emailRequired(){return this.clubForm.get("email")?.errors?.required&&this.clubForm.get("email")?.touched}emailFormato(){return this.clubForm.get("email")?.errors?.pattern&&this.clubForm.get("email")?.touched}campoEsValido(e){return this.clubForm.get(e)?.errors&&this.clubForm.get(e)?.touched}get emailErrorMsg(){const e=this.clubForm.get("email")?.errors;return e?.required?"Email is <strong>required</strong>":e?.pattern?"Please enter a valid email address":""}selectFile(e){if(e.target.files[0]&&0!=e.target.files[0].length&&null!=e.target.files[0].type.match(/image\/*/)){var a=new FileReader;this.clubForm.patchValue({fileSource:e.target.files[0]}),a.readAsDataURL(e.target.files[0]),a.onload=i=>{this.url=a.result}}}guardar(){this.clubForm.valid&&(this.club.id?this.clubesService.putClub(this.clubForm.value).subscribe(e=>{this.mostrarSnakBar("Registro actualizado")}):this.clubesService.postClub(this.clubForm.value).subscribe(e=>{this.router.navigate(["consola","editarClub",e.id]),this.mostrarSnakBar("Registro creado")}))}mostrarSnakBar(e){this._snackBar.open(e,"Cerrar",{duration:2500})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(B),t.Y36(ue),t.Y36(_.gz),t.Y36(ot.ux),t.Y36(_.F0),t.Y36(l.qu),t.Y36(at.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-club"]],decls:69,vars:7,consts:[[3,"formGroup","ngSubmit"],["fxLayout","row","fxLayout.xs","column","fxLayoutGap","40px"],["fxFlex","70","fxLayout","column"],["fxLayout","row","fxLayout.xs","column","fxLayoutGap","20px"],["fxFlex","100"],["type","text","matInput","","formControlName","nombre"],["type","text","matInput","","formControlName","nombreLargo"],["type","email","matInput","","formControlName","email","placeholder","Ex. pat@example.com"],[4,"ngIf"],["type","text","matInput","","formControlName","direccion","fxFlex","100"],["type","text","matInput","","formControlName","lat"],["type","text","matInput","","formControlName","lng"],["type","text","matInput","","formControlName","urlWeb"],["type","text","matInput","","formControlName","facebook"],["rows","5","matInput","","formControlName","observaciones"],["formControlName","paisCodigo"],[3,"value",4,"ngFor","ngForOf"],["formControlName","provinciaId"],["fxFlex","30","fxLayoutAlign","center center"],["mat-card-image","",3,"src","click"],["mat-flat-button","","color","primary",3,"click"],["type","file","formControlName","logoNew","id","fileInput","name","fileInput","accept","image/*","multiple","",3,"change"],["fxLayout",""],["type","submit","mat-raised-button","","color","primary"],[3,"innerHtml"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"h1"),t._uU(2," Club "),t.qZA(),t._UZ(3,"mat-divider")(4,"br"),t.qZA(),t.TgZ(5,"form",0),t.NdJ("ngSubmit",function(){return o.guardar()}),t.TgZ(6,"div",1)(7,"div",2)(8,"div",3)(9,"mat-form-field",4)(10,"mat-label"),t._uU(11,"Nombre"),t.qZA(),t._UZ(12,"input",5),t.qZA(),t.TgZ(13,"mat-form-field",4)(14,"mat-label"),t._uU(15,"Nombre largo"),t.qZA(),t._UZ(16,"input",6),t.qZA()(),t.TgZ(17,"mat-form-field",4)(18,"mat-label"),t._uU(19,"Email"),t.qZA(),t._UZ(20,"input",7),t.YNc(21,me,2,1,"mat-error",8),t.qZA(),t.TgZ(22,"mat-form-field",4)(23,"mat-label"),t._uU(24,"Direcci\xf3n"),t.qZA(),t._UZ(25,"input",9),t.qZA(),t.TgZ(26,"div",3)(27,"mat-form-field",4)(28,"mat-label"),t._uU(29,"Latitud"),t.qZA(),t._UZ(30,"input",10),t.qZA(),t.TgZ(31,"mat-form-field",4)(32,"mat-label"),t._uU(33,"Longitud"),t.qZA(),t._UZ(34,"input",11),t.qZA()(),t.TgZ(35,"mat-form-field",4)(36,"mat-label"),t._uU(37,"Web"),t.qZA(),t._UZ(38,"input",12),t.qZA(),t.TgZ(39,"mat-form-field",4)(40,"mat-label"),t._uU(41,"Facebook"),t.qZA(),t._UZ(42,"input",13),t.qZA(),t.TgZ(43,"mat-form-field",4)(44,"mat-label"),t._uU(45,"Observaciones"),t.qZA(),t._UZ(46,"textarea",14),t.qZA(),t.TgZ(47,"div",3)(48,"mat-form-field",4)(49,"mat-label"),t._uU(50,"Pais"),t.qZA(),t.TgZ(51,"mat-select",15),t.YNc(52,ge,2,2,"mat-option",16),t.qZA()(),t.TgZ(53,"mat-form-field",4)(54,"mat-label"),t._uU(55,"Provincia"),t.qZA(),t.TgZ(56,"mat-select",17),t.YNc(57,fe,2,2,"mat-option",16),t.qZA()()()(),t.TgZ(58,"div",18)(59,"mat-card",4)(60,"mat-card-content")(61,"div")(62,"img",19),t.NdJ("click",function(i){return o.selectFile(i)}),t.ALo(63,"logo"),t.qZA(),t.TgZ(64,"button",20),t.NdJ("click",function(i){return o.selectFile(i)}),t.qZA(),t.TgZ(65,"input",21),t.NdJ("change",function(i){return o.selectFile(i)}),t.qZA()()()()()(),t.TgZ(66,"div",22)(67,"button",23),t._uU(68," Guardar "),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",o.clubForm),t.xp6(16),t.Q6J("ngIf",o.campoEsValido("email")),t.xp6(31),t.Q6J("ngForOf",o.paises),t.xp6(5),t.Q6J("ngForOf",o.provincias),t.xp6(5),t.Q6J("src",o.url?o.url:t.lcZ(63,5,o.club),t.LSH))},dependencies:[f.sg,f.O5,p.xw,p.SQ,p.Wh,p.yH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,Z.lW,v.a8,v.dn,v.G2,A.d,h.TO,h.KE,h.hX,w.Nt,z.gD,W.ey,gt],styles:["#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;width:100%;left:0;top:0}"]}),n})(),J=(()=>{class n{constructor(e){this.http=e,this.baseUrl=D.N.baseUrl}getFederaciones(e="nombre",o="asc",a=0,i=5,s=""){const d=(new b.LE).appendAll({sort:e,order:o,desde:a,limite:i,like:s});return this.http.get(`${this.baseUrl}/api/federaciones`,{params:d})}getFederacionById(e){return this.http.get(`${this.baseUrl}/api/federaciones/${e}`)}putFederacion({fileSource:e="",...o}){const a=new FormData;for(const i of Object.keys(o))o[i]&&a.append(i,o[i]);return a.append("file",e),this.http.put(`${this.baseUrl}/api/federaciones/${o.id}`,a)}postFederacion({fileSource:e="",...o}){const a=new FormData;for(const i of Object.keys(o))o[i]&&a.append(i,o[i]);return a.append("file",e),this.http.post(`${this.baseUrl}/api/federaciones`,a)}deleteFederacion(e){return this.http.delete(`${this.baseUrl}/api/federaciones/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(b.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _e=["input"];function he(n,r){1&n&&t._UZ(0,"mat-spinner")}function Ce(n,r){if(1&n&&(t.TgZ(0,"div",20),t.YNc(1,he,1,0,"mat-spinner",21),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isLoadingResults)}}function be(n,r){if(1&n&&(t.TgZ(0,"th",24),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.header," ")}}function ve(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.cell(e)," ")}}function xe(n,r){1&n&&(t.ynx(0,22),t.YNc(1,be,2,1,"th",23),t.YNc(2,ve,2,1,"td",14),t.BQk()),2&n&&t.Q6J("matColumnDef",r.$implicit.columnDef)}function Ze(n,r){1&n&&(t.TgZ(0,"th",26),t._uU(1," \xa0 "),t.qZA())}function Te(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",25)(1,"button",27),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.editarFederacion(i.id))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()()()}}function De(n,r){1&n&&(t.TgZ(0,"th",26),t._uU(1," \xa0 "),t.qZA())}function ke(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",25)(1,"button",27),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.eliminarFederacion(i))}),t.TgZ(2,"mat-icon",28),t._uU(3,"delete"),t.qZA()()()}}function Ae(n,r){1&n&&t._UZ(0,"tr",29)}function we(n,r){1&n&&t._UZ(0,"tr",30)}function ye(n,r){if(1&n&&(t.TgZ(0,"tr",31)(1,"td",32),t._uU(2),t.qZA()()),2&n){t.oxw();const e=t.MAs(12);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Pe=function(){return[5,10,25,100]};let Fe=(()=>{class n{constructor(e,o,a){this.federacionesService=e,this.router=o,this.dialog=a,this.isLoadingResults=!0,this.resultsLength=0,this.federaciones={count:0,rows:[]},this.columns=[{header:"Nombre",columnDef:"nombre",cell:i=>i.nombre}],this.displayedColumns=this.columns.map(i=>i.columnDef),this.columnsToDisplayWithExpand=[...this.displayedColumns,"editar","eliminar"]}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0);const e=(0,Y.R)(this.filter.nativeElement,"keyup");e.subscribe(()=>this.paginator.pageIndex=0),(0,q.T)(this.sort.sortChange,this.paginator.page,e.pipe((0,M.b)(500))).pipe((0,Q.O)({}),(0,x.w)(()=>(this.isLoadingResults=!0,this.federacionesService.getFederaciones(this.sort.active,this.sort.direction,this.paginator.pageIndex,this.paginator.pageSize,this.filter.nativeElement.value).pipe((0,G.K)(()=>(0,P.of)(null))))),(0,R.U)(o=>(this.isLoadingResults=!1,null===o?{count:0,rows:[]}:o))).subscribe(o=>{console.log(o),this.federaciones=o})}editarFederacion(e){this.router.navigate(["consola","editarFederacion",e])}eliminarFederacion(e){this.dialog.open($,{width:"250px",data:e}).afterClosed().subscribe(a=>{a&&this.federacionesService.deleteFederacion(e.id).subscribe(i=>{let s=new Event("keyup");this.filter.nativeElement.dispatchEvent(s)}),console.log(a)})}addFederacion(){this.router.navigate(["consola","agregarFederacion"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J),t.Y36(_.F0),t.Y36(j.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-federaciones"]],viewQuery:function(e,o){if(1&e&&(t.Gf(c.BZ,5),t.Gf(y.NW,5),t.Gf(T.YE,5),t.Gf(_e,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.table=a.first),t.iGM(a=t.CRH())&&(o.paginator=a.first),t.iGM(a=t.CRH())&&(o.sort=a.first),t.iGM(a=t.CRH())&&(o.filter=a.first)}},decls:30,vars:8,consts:[["class","loading-shade",4,"ngIf"],["fxLayoutGap","10px"],["fxLayout","row","fxLayoutAlign","space-around center"],["fxFlex","90"],["fxFlex","100","appearance","fill"],["matInput",""],["input",""],[1,"spacer"],["fxFlex",""],["mat-raised-button","","color","primary",3,"click"],["mat-table","","matSort","","matSortActive","nombre","matSortDisableClear","","matSortDirection","asc",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","editar"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","eliminar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","federacion-row",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"length","pageSizeOptions"],[1,"loading-shade"],[4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["mat-icon-button","",3,"click"],["color","warn"],["mat-header-row",""],["mat-row","",1,"federacion-row"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,o){1&e&&(t.YNc(0,Ce,2,1,"div",0),t.TgZ(1,"mat-card",1)(2,"h1"),t._uU(3,"Federaciones"),t.qZA(),t._UZ(4,"mat-divider")(5,"br"),t.TgZ(6,"div",2)(7,"div",3)(8,"mat-form-field",4)(9,"mat-label"),t._uU(10,"Buscar federacion"),t.qZA(),t._UZ(11,"input",5,6),t.qZA()(),t._UZ(13,"div",7),t.TgZ(14,"div",8)(15,"button",9),t.NdJ("click",function(){return o.addFederacion()}),t._uU(16," Nuevo federacion "),t.qZA()()(),t.TgZ(17,"div")(18,"table",10),t.YNc(19,xe,3,1,"ng-container",11),t.ynx(20,12),t.YNc(21,Ze,2,0,"th",13),t.YNc(22,Te,4,0,"td",14),t.BQk(),t.ynx(23,15),t.YNc(24,De,2,0,"th",13),t.YNc(25,ke,4,0,"td",14),t.BQk(),t.YNc(26,Ae,1,0,"tr",16),t.YNc(27,we,1,0,"tr",17),t.YNc(28,ye,3,1,"tr",18),t.qZA()(),t._UZ(29,"mat-paginator",19),t.qZA()),2&e&&(t.Q6J("ngIf",o.isLoadingResults),t.xp6(18),t.Q6J("dataSource",o.federaciones.rows),t.xp6(1),t.Q6J("ngForOf",o.columns),t.xp6(7),t.Q6J("matHeaderRowDef",o.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",o.columnsToDisplayWithExpand),t.xp6(2),t.Q6J("length",o.federaciones.count)("pageSizeOptions",t.DdM(7,Pe)))},dependencies:[f.sg,f.O5,p.xw,p.SQ,p.Wh,p.yH,Z.lW,v.a8,A.d,F.Hw,h.KE,h.hX,w.Nt,y.NW,H.Ou,T.YE,T.nU,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,c.Ee],styles:["table[_ngcontent-%COMP%]{width:100%}tr.detail-row[_ngcontent-%COMP%]{height:0}.club-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.mat-column-nombre[_ngcontent-%COMP%]{min-width:120px;max-width:120px}.mat-column-nombreLargo[_ngcontent-%COMP%]{min-width:200px;max-width:2000px}.mat-column-email[_ngcontent-%COMP%], .mat-column-urlWeb[_ngcontent-%COMP%]{min-width:150px;max-width:150px}"]}),n})(),_t=(()=>{class n{constructor(e,o,a,i,s,d){this.federacionesService=e,this.activatedRoute=o,this._snackBar=a,this.router=i,this.fb=s,this.vs=d,this.federacion={id:0,nombre:"",estado:!0,createdAt:new Date,updatedAt:new Date},this.federacionForm=this.fb.group({id:[],nombre:["",[l.kI.required]],logo:[""],logoNew:[""],fileSource:[]})}ngOnInit(){!this.router.url.includes("editar")||(this.activatedRoute.params.pipe((0,x.w)(({id:e})=>this.federacionesService.getFederacionById(e))).subscribe(e=>{console.log(e),this.federacion=e,this.federacionForm.reset({...this.federacion})}),this.federacionForm.valueChanges.subscribe(({...e})=>{this.federacion=e}))}campoEsValido(e){return this.federacionForm.get(e)?.errors&&this.federacionForm.get(e)?.touched}selectFile(e){if(e.target.files[0]&&0!=e.target.files[0].length&&null!=e.target.files[0].type.match(/image\/*/)){var a=new FileReader;this.federacionForm.patchValue({fileSource:e.target.files[0]}),a.readAsDataURL(e.target.files[0]),a.onload=i=>{this.url=a.result}}}guardar(){this.federacionForm.valid&&(this.federacion.id?this.federacionesService.putFederacion(this.federacionForm.value).subscribe(e=>{this.mostrarSnakBar("Registro actualizado")}):this.federacionesService.postFederacion(this.federacionForm.value).subscribe(e=>{this.router.navigate(["consola","editarFederacion",e.id]),this.mostrarSnakBar("Registro creado")}))}mostrarSnakBar(e){this._snackBar.open(e,"Cerrar",{duration:2500})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J),t.Y36(_.gz),t.Y36(ot.ux),t.Y36(_.F0),t.Y36(l.qu),t.Y36(at.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-federacion"]],decls:23,vars:4,consts:[[3,"formGroup","ngSubmit"],["fxLayout","row","fxLayout.xs","column","fxLayoutGap","40px"],["fxFlex","70","fxLayout","column"],["fxFlex","100"],["type","text","matInput","","formControlName","nombre"],["fxFlex","30","fxLayoutAlign","center center"],["mat-card-image","",3,"src","click"],["mat-flat-button","","color","primary",3,"click"],["type","file","formControlName","logoNew","id","fileInput","name","fileInput","accept","image/*","multiple","",3,"change"],["fxLayout",""],["type","submit","mat-raised-button","","color","primary"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"h1"),t._uU(2," Federaci\xf3n "),t.qZA(),t._UZ(3,"mat-divider")(4,"br"),t.qZA(),t.TgZ(5,"form",0),t.NdJ("ngSubmit",function(){return o.guardar()}),t.TgZ(6,"div",1)(7,"div",2)(8,"mat-form-field",3)(9,"mat-label"),t._uU(10,"Nombre"),t.qZA(),t._UZ(11,"input",4),t.qZA()(),t.TgZ(12,"div",5)(13,"mat-card",3)(14,"mat-card-content")(15,"div")(16,"img",6),t.NdJ("click",function(i){return o.selectFile(i)}),t.ALo(17,"logo"),t.qZA(),t.TgZ(18,"button",7),t.NdJ("click",function(i){return o.selectFile(i)}),t.qZA(),t.TgZ(19,"input",8),t.NdJ("change",function(i){return o.selectFile(i)}),t.qZA()()()()()(),t.TgZ(20,"div",9)(21,"button",10),t._uU(22," Guardar\n"),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",o.federacionForm),t.xp6(11),t.Q6J("src",o.url?o.url:t.lcZ(17,2,o.federacion),t.LSH))},dependencies:[p.xw,p.SQ,p.Wh,p.yH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,Z.lW,v.a8,v.dn,v.G2,A.d,h.KE,h.hX,w.Nt,gt],styles:["#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;width:100%;left:0;top:0}"]}),n})(),X=(()=>{class n{constructor(e){this.http=e,this.baseUrl=D.N.baseUrl}getReglamentos(e="codigo",o="asc",a=0,i=50,s=""){const d=(new b.LE).appendAll({sort:e,order:o,desde:a,limite:i,like:s});return this.http.get(`${this.baseUrl}/api/reglamentos`,{params:d})}getReglamentosByFederacion(e){return this.http.get(`${this.baseUrl}/api/federacion/${e}`)}getReglamentoById(e){return this.http.get(`${this.baseUrl}/api/reglamentos/${e}`)}putReglamento({...e}){return this.http.put(`${this.baseUrl}/api/reglamentos/${e.id}`,e)}postReglamento({fileSource:e="",...o}){const a=new FormData;for(const i of Object.keys(o))o[i]&&a.append(i,o[i]);return a.append("file",e),this.http.post(`${this.baseUrl}/api/reglamentos`,a)}deleteReglamento(e){return this.http.delete(`${this.baseUrl}/api/reglamentos/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(b.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ee=["input"];function Oe(n,r){1&n&&t._UZ(0,"mat-spinner")}function Le(n,r){if(1&n&&(t.TgZ(0,"div",20),t.YNc(1,Oe,1,0,"mat-spinner",21),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isLoadingResults)}}function je(n,r){if(1&n&&(t.TgZ(0,"th",24),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.header," ")}}function Ue(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.cell(e)," ")}}function qe(n,r){1&n&&(t.ynx(0,22),t.YNc(1,je,2,1,"th",23),t.YNc(2,Ue,2,1,"td",14),t.BQk()),2&n&&t.Q6J("matColumnDef",r.$implicit.columnDef)}function Me(n,r){1&n&&(t.TgZ(0,"th",26),t._uU(1," \xa0 "),t.qZA())}function Ne(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",25)(1,"button",27),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.editarReglamento(i.id))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()()()}}function Je(n,r){1&n&&(t.TgZ(0,"th",26),t._uU(1," \xa0 "),t.qZA())}function Ie(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",25)(1,"button",27),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.eliminarReglamento(i))}),t.TgZ(2,"mat-icon",28),t._uU(3,"delete"),t.qZA()()()}}function Se(n,r){1&n&&t._UZ(0,"tr",29)}function Ye(n,r){1&n&&t._UZ(0,"tr",30)}function Qe(n,r){if(1&n&&(t.TgZ(0,"tr",31)(1,"td",32),t._uU(2),t.qZA()()),2&n){t.oxw();const e=t.MAs(12);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Ge=function(){return[5,10,25,100]};let Re=(()=>{class n{constructor(e,o,a){this.reglamentosService=e,this.router=o,this.dialog=a,this.isLoadingResults=!0,this.resultsLength=0,this.reglamentos={count:0,rows:[]},this.columns=[{header:"C\xf3digo",columnDef:"codigo",cell:i=>i.codigo},{header:"Descripci\xf3n",columnDef:"descripcion",cell:i=>i.descripcion},{header:"Federaci\xf3n",columnDef:"federacion",cell:i=>i.federacion.nombre}],this.displayedColumns=this.columns.map(i=>i.columnDef),this.columnsToDisplayWithExpand=[...this.displayedColumns,"editar","eliminar"]}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0);const e=(0,Y.R)(this.filter.nativeElement,"keyup");e.subscribe(()=>this.paginator.pageIndex=0),(0,q.T)(this.sort.sortChange,this.paginator.page,e.pipe((0,M.b)(500))).pipe((0,Q.O)({}),(0,x.w)(()=>(this.isLoadingResults=!0,this.reglamentosService.getReglamentos(this.sort.active,this.sort.direction,this.paginator.pageIndex,this.paginator.pageSize,this.filter.nativeElement.value).pipe((0,G.K)(()=>(0,P.of)(null))))),(0,R.U)(o=>(this.isLoadingResults=!1,null===o?{count:0,rows:[]}:o))).subscribe(o=>{console.log(o),this.reglamentos=o})}editarReglamento(e){this.router.navigate(["consola","editarReglamento",e])}eliminarReglamento(e){this.dialog.open($,{width:"250px",data:e}).afterClosed().subscribe(a=>{a&&this.reglamentosService.deleteReglamento(e.id).subscribe(i=>{let s=new Event("keyup");this.filter.nativeElement.dispatchEvent(s)}),console.log(a)})}addReglamento(){this.router.navigate(["consola","agregarReglamento"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(X),t.Y36(_.F0),t.Y36(j.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-reglamentos"]],viewQuery:function(e,o){if(1&e&&(t.Gf(c.BZ,5),t.Gf(y.NW,5),t.Gf(T.YE,5),t.Gf(Ee,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.table=a.first),t.iGM(a=t.CRH())&&(o.paginator=a.first),t.iGM(a=t.CRH())&&(o.sort=a.first),t.iGM(a=t.CRH())&&(o.filter=a.first)}},decls:30,vars:8,consts:[["class","loading-shade",4,"ngIf"],["fxLayoutGap","10px"],["fxLayout","row","fxLayoutAlign","space-around center"],["fxFlex","90"],["fxFlex","100","appearance","fill"],["matInput",""],["input",""],[1,"spacer"],["fxFlex",""],["mat-raised-button","","color","primary",3,"click"],["mat-table","","matSort","","matSortActive","codigo","matSortDisableClear","","matSortDirection","asc",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","editar"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","eliminar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","reglamento-row",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"length","pageSizeOptions"],[1,"loading-shade"],[4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["mat-icon-button","",3,"click"],["color","warn"],["mat-header-row",""],["mat-row","",1,"reglamento-row"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,o){1&e&&(t.YNc(0,Le,2,1,"div",0),t.TgZ(1,"mat-card",1)(2,"h1"),t._uU(3,"Reglamentos"),t.qZA(),t._UZ(4,"mat-divider")(5,"br"),t.TgZ(6,"div",2)(7,"div",3)(8,"mat-form-field",4)(9,"mat-label"),t._uU(10,"Buscar reglamento"),t.qZA(),t._UZ(11,"input",5,6),t.qZA()(),t._UZ(13,"div",7),t.TgZ(14,"div",8)(15,"button",9),t.NdJ("click",function(){return o.addReglamento()}),t._uU(16," Nuevo reglamento "),t.qZA()()(),t.TgZ(17,"div")(18,"table",10),t.YNc(19,qe,3,1,"ng-container",11),t.ynx(20,12),t.YNc(21,Me,2,0,"th",13),t.YNc(22,Ne,4,0,"td",14),t.BQk(),t.ynx(23,15),t.YNc(24,Je,2,0,"th",13),t.YNc(25,Ie,4,0,"td",14),t.BQk(),t.YNc(26,Se,1,0,"tr",16),t.YNc(27,Ye,1,0,"tr",17),t.YNc(28,Qe,3,1,"tr",18),t.qZA()(),t._UZ(29,"mat-paginator",19),t.qZA()),2&e&&(t.Q6J("ngIf",o.isLoadingResults),t.xp6(18),t.Q6J("dataSource",o.reglamentos.rows),t.xp6(1),t.Q6J("ngForOf",o.columns),t.xp6(7),t.Q6J("matHeaderRowDef",o.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",o.columnsToDisplayWithExpand),t.xp6(2),t.Q6J("length",o.reglamentos.count)("pageSizeOptions",t.DdM(7,Ge)))},dependencies:[f.sg,f.O5,p.xw,p.SQ,p.Wh,p.yH,Z.lW,v.a8,A.d,F.Hw,h.KE,h.hX,w.Nt,y.NW,H.Ou,T.YE,T.nU,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,c.Ee],styles:["table[_ngcontent-%COMP%]{width:100%}tr.detail-row[_ngcontent-%COMP%]{height:0}.club-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.mat-column-nombre[_ngcontent-%COMP%]{min-width:120px;max-width:120px}.mat-column-nombreLargo[_ngcontent-%COMP%]{min-width:200px;max-width:2000px}.mat-column-email[_ngcontent-%COMP%], .mat-column-urlWeb[_ngcontent-%COMP%]{min-width:150px;max-width:150px}"]}),n})();const $e=["Grados"],Be=["Alturas"];function He(n,r){if(1&n&&(t.TgZ(0,"mat-option",26),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.nombre," ")}}function ze(n,r){1&n&&(t.TgZ(0,"th",27),t._uU(1," C\xf3digo "),t.qZA())}function We(n,r){1&n&&(t.TgZ(0,"td",28)(1,"mat-form-field"),t._UZ(2,"input",3),t.qZA()()),2&n&&t.Q6J("formGroup",r.$implicit)}function Xe(n,r){1&n&&(t.TgZ(0,"th",27),t._uU(1," Descripci\xf3n "),t.qZA())}function Ke(n,r){1&n&&(t.TgZ(0,"td",28)(1,"mat-form-field"),t._UZ(2,"input",4),t.qZA()()),2&n&&t.Q6J("formGroup",r.$implicit)}function Ve(n,r){1&n&&(t.TgZ(0,"th",29),t._uU(1," \xa0 "),t.qZA())}function tn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",28)(1,"button",30),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.eliminarAltura(i))}),t.TgZ(2,"mat-icon",31),t._uU(3,"delete"),t.qZA()()()}2&n&&t.Q6J("formGroup",r.$implicit)}function en(n,r){1&n&&t._UZ(0,"tr",32)}function nn(n,r){1&n&&t._UZ(0,"tr",33)}function on(n,r){1&n&&(t.TgZ(0,"th",27),t._uU(1," C\xf3digo "),t.qZA())}function an(n,r){1&n&&(t.TgZ(0,"td",28)(1,"mat-form-field"),t._UZ(2,"input",3),t.qZA()()),2&n&&t.Q6J("formGroup",r.$implicit)}function rn(n,r){1&n&&(t.TgZ(0,"th",27),t._uU(1," Descripci\xf3n "),t.qZA())}function sn(n,r){1&n&&(t.TgZ(0,"td",28)(1,"mat-form-field"),t._UZ(2,"input",4),t.qZA()()),2&n&&t.Q6J("formGroup",r.$implicit)}function cn(n,r){1&n&&(t.TgZ(0,"th",29),t._uU(1," \xa0 "),t.qZA())}function ln(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",34)(1,"button",30),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.eliminarGrado(i))}),t.TgZ(2,"mat-icon",31),t._uU(3,"delete"),t.qZA()()()}}function pn(n,r){1&n&&t._UZ(0,"tr",32)}function dn(n,r){1&n&&t._UZ(0,"tr",33)}let ht=(()=>{class n{constructor(e,o,a,i,s,d,g){this.reglamentosService=e,this.federacionesService=o,this.activatedRoute=a,this._snackBar=i,this.router=s,this.fb=d,this.vs=g,this.reglamento={id:0,codigo:"",descripcion:"",estado:!0,federacion:{id:0,nombre:"",estado:!0,createdAt:new Date,updatedAt:new Date},alturas:[],grados:[],createdAt:new Date,updatedAt:new Date},this.federaciones=[],this.displayedColumns=["codigo","descripcion","eliminar"],this.reglamentoForm=this.fb.group({id:[],codigo:["",[l.kI.required]],descripcion:["",[l.kI.required]],federacionId:[],alturas:this.fb.array([]),grados:this.fb.array([])})}get AlturasArr(){return this.reglamentoForm.get("alturas")}get AlturasArrFiltered(){return this.AlturasArr.controls.filter(o=>o.value.estado)}get GradosArr(){return this.reglamentoForm.get("grados")}get GradosArrFiltered(){return this.GradosArr.controls.filter(o=>o.value.estado)}addAlturaFormGroup(){const e={id:null,codigo:"",descripcion:"",createdAt:new Date,updatedAt:new Date,reglamentoId:this.reglamento.id,estado:!0};return this.fb.group(e)}addGradoFormGroup(){const e={id:null,codigo:"",descripcion:"",createdAt:new Date,updatedAt:new Date,reglamentoId:this.reglamento.id,estado:!0};return this.fb.group(e)}setAlturasExistentes(e){let o;return e.forEach(a=>{let i=this.fb.group(a);o?o.push(i):o=this.fb.array([i])}),o}setGradosExistentes(e){let o;return e.forEach(a=>{let i=this.fb.group(a);o?o.push(i):o=this.fb.array([i])}),o}ngOnInit(){this.federacionesService.getFederaciones().subscribe(e=>{this.federaciones=e.rows}),this.router.url.includes("editar")&&(this.activatedRoute.params.pipe((0,x.w)(({id:e})=>this.reglamentosService.getReglamentoById(e))).subscribe(e=>{this.reglamento=e,this.reglamentoForm.reset({...this.reglamento}),this.reglamentoForm.setControl("alturas",this.setAlturasExistentes(e.alturas)),this.reglamentoForm.setControl("grados",this.setGradosExistentes(e.grados))}),this.reglamentoForm.valueChanges.subscribe(({...e})=>{this.reglamento=e}))}guardar(){this.reglamentoForm.valid&&(this.reglamento.id?this.reglamentosService.putReglamento(this.reglamentoForm.value).subscribe(e=>{this.reglamento=e,this.reglamentoForm.reset({...this.reglamento}),this.reglamentoForm.setControl("alturas",this.setAlturasExistentes(e.alturas)),this.reglamentoForm.setControl("grados",this.setGradosExistentes(e.grados)),this.mostrarSnakBar("Registro actualizado")}):this.reglamentosService.postReglamento(this.reglamentoForm.value).subscribe(e=>{this.router.navigate(["consola","editarReglamento",e.id]),this.mostrarSnakBar("Registro creado")}))}mostrarSnakBar(e){this._snackBar.open(e,"Cerrar",{duration:2500})}eliminarAltura(e){e.patchValue({estado:!1})}addAltura(){this.AlturasArr.push(this.addAlturaFormGroup())}eliminarGrado(e){e.patchValue({estado:!1})}addGrado(){this.GradosArr.push(this.addGradoFormGroup())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(X),t.Y36(J),t.Y36(_.gz),t.Y36(ot.ux),t.Y36(_.F0),t.Y36(l.qu),t.Y36(at.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-reglamento"]],viewQuery:function(e,o){if(1&e&&(t.Gf($e,5),t.Gf(Be,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.tblGrados=a.first),t.iGM(a=t.CRH())&&(o.tblAlturas=a.first)}},decls:60,vars:8,consts:[[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayout.xs","column","fxLayoutGap","20px"],["fxFlex","100"],["type","text","matInput","","formControlName","codigo"],["type","text","matInput","","formControlName","descripcion"],["formControlName","federacionId"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayout.xs","column","fxLayoutGap","20px"],["fxFlex","50"],["mat-table","","formArrayName","alturas",1,"mat-elevation-z8",3,"dataSource"],["Alturas",""],["matColumnDef","codigo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"formGroup",4,"matCellDef"],["matColumnDef","descripcion"],["matColumnDef","eliminar"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-button","","type","button",3,"click"],[1,"material-symbols-outlined"],["mat-table","","formArrayName","grados",1,"mat-elevation-z8",3,"dataSource"],["Grados",""],["mat-cell","",4,"matCellDef"],["fxLayout",""],["type","submit","mat-raised-button","","color","primary"],[3,"value"],["mat-header-cell",""],["mat-cell","",3,"formGroup"],["mat-header-cell","","aria-label","row actions"],["mat-icon-button","","type","button",3,"click"],["color","warn"],["mat-header-row",""],["mat-row",""],["mat-cell",""]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"h1"),t._uU(2," Reglamento "),t.qZA(),t._UZ(3,"mat-divider")(4,"br"),t.qZA(),t.TgZ(5,"form",0),t.NdJ("ngSubmit",function(){return o.guardar()}),t.TgZ(6,"div",1)(7,"mat-form-field",2)(8,"mat-label"),t._uU(9,"C\xf3digo"),t.qZA(),t._UZ(10,"input",3),t.qZA(),t.TgZ(11,"mat-form-field",2)(12,"mat-label"),t._uU(13,"Descripci\xf3n"),t.qZA(),t._UZ(14,"input",4),t.qZA(),t.TgZ(15,"mat-form-field",2)(16,"mat-label"),t._uU(17,"Federaci\xf3n"),t.qZA(),t.TgZ(18,"mat-select",5),t.YNc(19,He,2,2,"mat-option",6),t.qZA()(),t.TgZ(20,"div",7)(21,"div",8)(22,"table",9,10),t.ynx(24,11),t.YNc(25,ze,2,0,"th",12),t.YNc(26,We,3,1,"td",13),t.BQk(),t.ynx(27,14),t.YNc(28,Xe,2,0,"th",12),t.YNc(29,Ke,3,1,"td",13),t.BQk(),t.ynx(30,15),t.YNc(31,Ve,2,0,"th",16),t.YNc(32,tn,4,1,"td",13),t.BQk(),t.YNc(33,en,1,0,"tr",17),t.YNc(34,nn,1,0,"tr",18),t.qZA(),t.TgZ(35,"button",19),t.NdJ("click",function(){return o.addAltura()}),t.TgZ(36,"mat-icon")(37,"span",20),t._uU(38," add_circle "),t.qZA()()()(),t.TgZ(39,"div",8)(40,"table",21,22),t.ynx(42,11),t.YNc(43,on,2,0,"th",12),t.YNc(44,an,3,1,"td",13),t.BQk(),t.ynx(45,14),t.YNc(46,rn,2,0,"th",12),t.YNc(47,sn,3,1,"td",13),t.BQk(),t.ynx(48,15),t.YNc(49,cn,2,0,"th",16),t.YNc(50,ln,4,0,"td",23),t.BQk(),t.YNc(51,pn,1,0,"tr",17),t.YNc(52,dn,1,0,"tr",18),t.qZA(),t.TgZ(53,"button",19),t.NdJ("click",function(){return o.addGrado()}),t.TgZ(54,"mat-icon")(55,"span",20),t._uU(56," add_circle "),t.qZA()()()()()(),t.TgZ(57,"div",24)(58,"button",25),t._uU(59," Guardar\n"),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",o.reglamentoForm),t.xp6(14),t.Q6J("ngForOf",o.federaciones),t.xp6(3),t.Q6J("dataSource",o.AlturasArrFiltered),t.xp6(11),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(6),t.Q6J("dataSource",o.GradosArrFiltered),t.xp6(11),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[f.sg,p.xw,p.SQ,p.yH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.CE,Z.lW,A.d,F.Hw,h.KE,h.hX,w.Nt,z.gD,W.ey,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk],styles:["#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;width:100%;left:0;top:0}"]}),n})(),rt=(()=>{class n{constructor(e){this.http=e,this.baseUrl=D.N.baseUrl}getJornadaById(e){return this.http.get(`${this.baseUrl}/api/jornadas/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(b.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),un=(()=>{class n{constructor(e){this.http=e,this.baseUrl=D.N.baseUrl}putHorariosJornada({...e}){return this.http.put(`${this.baseUrl}/api/horarios/${e.id}`,e)}getHorariosByJornadaPista(e,o){const a=(new b.LE).appendAll({jornadaId:e,pista:o});return this.http.get(`${this.baseUrl}/api/horarios`,{params:a})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(b.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var m=u(3555);function mn(n,r){if(1&n&&(t.TgZ(0,"a",3,4),t._uU(2),t.qZA()),2&n){const e=r.$implicit,o=t.MAs(1);t.ekj("list-item-active",o.isActive),t.uIk("tabindex",o.isActive?0:-1),t.xp6(2),t.lnq(" ",e.tipo_manga.descripcion," ",e.grado.codigo," ",e.alturas," ")}}let gn=(()=>{class n{constructor(){}getPistas(){const e=[];return this.pistas.forEach(o=>{this.turnos.forEach(a=>{e.push("pista"+o+"_turno"+a)})}),e}ngAfterViewInit(){}ngOnInit(){}drop(e){e.previousContainer===e.container?(0,m.bA)(e.container.data,e.previousIndex,e.currentIndex):((0,m.EA)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),e.container.data[e.currentIndex].horario=0,e.container.data[e.currentIndex].numeroPista=0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bloque-turnos"]],inputs:{bloques:"bloques",pistas:"pistas",turnos:"turnos"},decls:5,vars:3,consts:[["fxLayout","25px","fxFill","","cdkDropList","","id","bloques",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["todoList","cdkDropList"],["mat-list-item","","routerLinkActive","","cdkDrag","",3,"list-item-active",4,"ngFor","ngForOf"],["mat-list-item","","routerLinkActive","","cdkDrag",""],["routerLinkActiveInstance","routerLinkActive"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0,1),t.NdJ("cdkDropListDropped",function(i){return o.drop(i)}),t.TgZ(2,"mat-card-content")(3,"mat-nav-list"),t.YNc(4,mn,3,6,"a",2),t.qZA()()()),2&e&&(t.Q6J("cdkDropListData",o.bloques)("cdkDropListConnectedTo",o.getPistas()),t.xp6(4),t.Q6J("ngForOf",o.bloques))},dependencies:[f.sg,p.xw,p.s9,m.Wj,m.Zt,v.a8,v.dn,L.Hk,L.Tg,_.Od],encapsulation:2}),n})();function fn(n,r){if(1&n&&(t.TgZ(0,"a",3,4),t._uU(2),t.qZA()),2&n){const e=r.$implicit,o=t.MAs(1);t.ekj("list-item-active",o.isActive),t.uIk("tabindex",o.isActive?0:-1),t.xp6(2),t.lnq(" ",e.tipo_manga.descripcion," ",e.grado.codigo," ",e.alturas," ")}}let _n=(()=>{class n{constructor(){this.bloquesPista=[]}canDrop(e,o){return 0==o.getSortedItems().length}ngOnInit(){this.asignado&&this.bloquesPista.push(this.asignado)}drop(e){e.previousContainer===e.container?(0,m.bA)(e.container.data,e.previousIndex,e.currentIndex):((0,m.EA)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),e.container.data[0].horario=this.turno,e.container.data[0].numeroPista=this.pista,console.log(e))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pista-turnos"]],inputs:{pista:"pista",turno:"turno",asignado:"asignado"},decls:5,vars:4,consts:[["cdkDropList","","cdkDropList","","cdkDropListConnectedTo","bloques",1,"turno",3,"cdkDropListData","cdkDropListEnterPredicate","id","cdkDropListDropped"],["doneList","cdkDropList"],["mat-list-item","","routerLinkActive","","cdkDrag","",3,"list-item-active",4,"ngFor","ngForOf"],["mat-list-item","","routerLinkActive","","cdkDrag",""],["routerLinkActiveInstance","routerLinkActive"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0,1),t.NdJ("cdkDropListDropped",function(i){return o.drop(i)}),t.TgZ(2,"mat-card-content")(3,"mat-nav-list"),t.YNc(4,fn,3,6,"a",2),t.qZA()()()),2&e&&(t.Q6J("cdkDropListData",o.bloquesPista)("cdkDropListEnterPredicate",o.canDrop)("id","pista"+o.pista+"_turno"+o.turno),t.xp6(4),t.Q6J("ngForOf",o.bloquesPista))},dependencies:[f.sg,m.Wj,m.Zt,v.a8,v.dn,L.Hk,L.Tg,_.Od],styles:[".turno[_ngcontent-%COMP%]{min-height:70px!important;height:70px}"]}),n})();function hn(n,r){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-pista-turnos",14),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.Q6J("pista",o)("turno",e)("asignado",a.getHorario(o,e))}}function Cn(n,r){if(1&n&&(t.TgZ(0,"div")(1,"mat-card",12)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4),t.qZA()()()()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(" Turno "+e)}}function bn(n,r){if(1&n&&(t.TgZ(0,"div",10),t.YNc(1,hn,2,3,"div",13),t.YNc(2,Cn,5,1,"div",13),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e>0),t.xp6(1),t.Q6J("ngIf",0==e)}}function vn(n,r){if(1&n&&(t.TgZ(0,"div",10)(1,"div",11)(2,"div",10)(3,"mat-card",12)(4,"mat-card-header")(5,"mat-card-title"),t._uU(6),t.qZA()()()(),t.YNc(7,bn,3,2,"div",7),t.qZA()()),2&n){const e=r.$implicit,o=t.oxw();t.xp6(3),t.ekj("invisible",0===e),t.xp6(3),t.Oqu(" Pista "+e),t.xp6(1),t.Q6J("ngForOf",o.turnos)}}let xn=(()=>{class n{constructor(e,o,a){this.activatedRoute=e,this.jornadasService=o,this.horariosService=a,this.pistas=[],this.turnos=[]}ngOnInit(){this.activatedRoute.params.pipe((0,x.w)(({id:e})=>this.jornadasService.getJornadaById(e))).subscribe(e=>{this.jornada=e,this.pistas=Array.from(Array(e.pistas+1).keys()).map(o=>o),this.turnos=Array.from(Array(e.turnos).keys()).map(o=>o+1),console.log(e),this.jornada.horarios=this.generarBloques(this.jornada)})}getHorariosPorAsignar(){return this.jornada.horarios.filter(e=>0==e.numeroPista)}getHorario(e,o){return this.jornada.horarios.find(i=>i.numeroPista===e&&i.horario===o)}generarBloques(e){const o=[];return e.pruebas.forEach(a=>{a.mangas.forEach(i=>{i.turnos.forEach(s=>{const d=e.horarios.find(g=>g.grado.id===a.gradoId&&g.turno.id===s.id);d?(d.alturas=s.alturas?.reduce((g,{codigo:C})=>[...g,C],[]),o.push(d)):o.push({numeroPista:0,horario:0,tipoMangaId:i.tipoMangaId,gradoId:a.gradoId,turnoId:s.id,jornadaId:e.id,tipo_manga:i.tipo_manga,grado:a.grado,turno:s,alturas:s.alturas.reduce((g,{codigo:C})=>[...g,C],[])})})})}),o}guardar(){console.log(this.jornada.horarios),this.horariosService.putHorariosJornada(this.jornada).subscribe(e=>{this.jornada=e,this.pistas=Array.from(Array(e.pistas+1).keys()).map(o=>o),this.turnos=Array.from(Array(e.turnos).keys()).map(o=>o+1),console.log(e),this.jornada.horarios=this.generarBloques(this.jornada)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.gz),t.Y36(rt),t.Y36(un))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-jornada"]],decls:16,vars:5,consts:[["fxLayout","column"],["fxLayout","row"],["fxFlex","23"],[3,"bloques","pistas","turnos"],["fxFlex","2"],["fxFlex","75"],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutGap","20px","fxFill",""],["fxFlex","15",4,"ngFor","ngForOf"],["fxLayout",""],["type","button","mat-raised-button","","color","primary",3,"click"],["fxFlex","15"],["fxLayout","column","fxLayoutGap","20px","fxFlexAlign","stretch"],[1,"turno"],[4,"ngIf"],[3,"pista","turno","asignado"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"h1"),t._uU(2),t.qZA(),t._UZ(3,"mat-divider")(4,"br"),t.qZA(),t.TgZ(5,"div",0)(6,"div",1)(7,"div",2),t._UZ(8,"app-bloque-turnos",3),t.qZA(),t._UZ(9,"div",4),t.TgZ(10,"div",5)(11,"div",6),t.YNc(12,vn,8,4,"div",7),t.qZA()()(),t.TgZ(13,"div",8)(14,"button",9),t.NdJ("click",function(){return o.guardar()}),t._uU(15," Guardar "),t.qZA()()()),2&e&&(t.xp6(2),t.hij("Jornada ",o.jornada.nombre,""),t.xp6(6),t.Q6J("bloques",o.getHorariosPorAsignar())("pistas",o.pistas)("turnos",o.turnos),t.xp6(4),t.Q6J("ngForOf",o.pistas))},dependencies:[f.sg,f.O5,p.xw,p.SQ,p.s9,p.XD,p.yH,Z.lW,v.a8,v.dk,v.n5,A.d,gn,_n],styles:[".turno[_ngcontent-%COMP%]{min-height:70px!important;height:70px}.invisible[_ngcontent-%COMP%]{visibility:hidden}"]}),n})(),Zn=(()=>{class n{constructor(e){this.http=e,this.baseUrl=D.N.baseUrl}getOrdenSalida(e,o){return this.http.get(`${this.baseUrl}/api/ordenessalida/${e}/${o}`)}guardarOrdenSalida(e,o,a){return this.http.put(`${this.baseUrl}/api/ordenessalida/${e}/${o}`,a)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(b.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tn(n,r){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.orden,"\n")}}function Dn(n,r){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.nombreGuia,"\n")}}function kn(n,r){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.nombre,"\n")}}function An(n,r){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e.prev?null:e.prev.orden,"\n")}}function wn(n,r){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e.next?null:e.next.orden,"\n")}}function yn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",12),t.NdJ("mousedown",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.resalta(i,!0))})("mouseup",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.resalta(i,!1))}),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw();t.Akn(o.resaltar(e)),t.ekj("row-is-clicked",e.resaltado)}}let Pn=(()=>{class n{constructor(){this.resaltados=[],this.ordenCambiado=new t.vpe,this.resaltaMismoGuia=new t.vpe,this.displayedColumns=["orden","nombreGuia","nombre"]}ngOnInit(){}onListDrop(e){(0,m.bA)(this.altura.perros,e.previousIndex,e.currentIndex),console.log("prev",e.previousIndex),console.log("current",e.currentIndex);const o=e.currentIndex-e.previousIndex;console.log("dif",o),this.altura.perros.forEach((a,i)=>{e.currentIndex==i&&(a.orden+=o,this.reordenar(a),this.resaltaMismoGuia.emit({p:a,resalta:!1}))}),this.table.renderRows()}reordenar(e){this.ordenCambiado.emit(e)}getClaseCSS(e){return`altura${e}`}resaltar(e){let o="",a=999,i=999;e.next&&!e.resaltado&&(a=Math.abs(e.next.orden-e.orden)),e.prev&&!e.resaltado&&(i=Math.abs(e.orden-e.prev.orden));const s=Math.min(a,i);return s<15&&999!=s&&(o=`background-color:rgba(216, 40, 40, ${(15-s)/15});`),o}resalta(e,o){this.resaltaMismoGuia.emit({p:e,resalta:o})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bloque-personas"]],viewQuery:function(e,o){if(1&e&&t.Gf(c.BZ,5),2&e){let a;t.iGM(a=t.CRH())&&(o.table=a.first)}},inputs:{altura:"altura",resaltados:"resaltados"},outputs:{ordenCambiado:"ordenCambiado",resaltaMismoGuia:"resaltaMismoGuia"},decls:16,vars:5,consts:[["fxLayout","row"],["fxFlex","5","fxLayoutAlign","center center"],["fxFlex","95"],["mat-table","","cdkDropList","",1,"mat-elevation-z8",3,"dataSource","cdkDropListDropped"],["matColumnDef","orden"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombreGuia"],["matColumnDef","nombre"],["matColumnDef","prev"],["matColumnDef","next"],["mat-row","","cdkDrag","",3,"style","row-is-clicked","mousedown","mouseup",4,"matRowDef","matRowDefColumns"],["mat-cell",""],["mat-row","","cdkDrag","",3,"mousedown","mouseup"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"table",3),t.NdJ("cdkDropListDropped",function(i){return o.onListDrop(i)}),t.ynx(5,4),t.YNc(6,Tn,2,1,"td",5),t.BQk(),t.ynx(7,6),t.YNc(8,Dn,2,1,"td",5),t.BQk(),t.ynx(9,7),t.YNc(10,kn,2,1,"td",5),t.BQk(),t.ynx(11,8),t.YNc(12,An,2,1,"td",5),t.BQk(),t.ynx(13,9),t.YNc(14,wn,2,1,"td",5),t.BQk(),t.YNc(15,yn,1,4,"tr",10),t.qZA()()()),2&e&&(t.xp6(1),t.Tol(o.getClaseCSS(o.altura.altura)),t.xp6(1),t.hij(" ",o.altura.altura," "),t.xp6(2),t.Q6J("dataSource",o.altura.perros),t.xp6(11),t.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[p.xw,p.Wh,p.yH,m.Wj,m.Zt,c.BZ,c.w1,c.Dz,c.nj,c.ev,c.Gk],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.mat-column-orden[_ngcontent-%COMP%]{min-width:5rem;max-width:5rem;font-weight:700;text-align:center}.mat-column-nombreGuia[_ngcontent-%COMP%], .mat-column-nombre[_ngcontent-%COMP%]{min-width:19rem;max-width:19rem}.mat-column-prev[_ngcontent-%COMP%], .mat-column-next[_ngcontent-%COMP%]{min-width:3rem;max-width:3rem}.alturaXS[_ngcontent-%COMP%]{background-color:#e1b487e3}.alturaM[_ngcontent-%COMP%]{background:rgba(184,225,135,.809)}.alturaI[_ngcontent-%COMP%]{background-color:#87e1cace}.alturaS[_ngcontent-%COMP%]{background-color:#be87e1ce}.alturaX[_ngcontent-%COMP%]{background-color:#e18787ce}.row-is-clicked[_ngcontent-%COMP%]{background-color:#d9df5be0}tr.mat-row[_ngcontent-%COMP%]{height:23px!important}"]}),n})();function Fn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"app-bloque-personas",6),t.NdJ("resaltaMismoGuia",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.resalta(a))})("ordenCambiado",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.reordenar(a))}),t.qZA()()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("altura",e)}}function En(n,r){if(1&n&&(t.TgZ(0,"div",3)(1,"h2"),t._uU(2),t.qZA(),t.YNc(3,Fn,2,1,"div",4),t.qZA()),2&n){const e=r.$implicit;t.xp6(2),t.hij("Pista ",e.numeroPista,""),t.xp6(1),t.Q6J("ngForOf",e.alturas)}}let On=(()=>{class n{constructor(e,o){this.activatedRoute=e,this.ordenSalidaService=o,this.horarios=[],this.id=0,this.horario=0}ngOnInit(){this.activatedRoute.params.pipe((0,x.w)(({id:e,horario:o})=>(this.id=parseInt(e),this.horario=parseInt(o),this.ordenSalidaService.getOrdenSalida(e,o)))).subscribe(e=>{const o=e.reduce((a,i)=>{const{numeroPista:s,descripcion:d,grado:g,ordenAltura:C,altura:V,turno:S,turnoAlturaId:st,perroId:tt,nombrePerro:ct,guiaId:lt,nombreGuia:ra,orden:ia}={...i},xt={numeroPista:s,nombre:d,grado:g,turno:S,alturas:[]},et={orden:C,turnoAlturaId:st,altura:V,perros:[]},O={id:tt,nombre:ct,guiaId:lt,nombreGuia:ra,orden:ia,next:null,prev:null},Zt=[...e].reverse().find(k=>k.guiaId===O.guiaId&&k.orden<O.orden);Zt&&a.forEach(k=>{k.alturas.forEach(dt=>{const ut=dt.perros.find(sa=>sa.id==Zt.perroId);ut&&(O.prev=ut,ut.next=O)})});const pt=a.find(k=>k.numeroPista==s&&k.grado==g&&k.turno==S);if(pt){const k=pt.alturas.find(dt=>dt.altura===V);k?k.perros.push(O):(et.perros.push(O),pt.alturas.push(et))}else et.perros.push(O),xt.alturas.push(et),a.push(xt);return a},[]);this.horarios=o,console.log(o)})}reordenar(e){const o=e.guiaId;let a=[],i=1;this.horarios.forEach(s=>{i=1,s.alturas.forEach(d=>{d.perros.map(C=>{C.orden=i++});const g=d.perros.filter(C=>C.guiaId===o);g&&(a=a.concat(g))})}),a.sort((s,d)=>s.orden>d.orden?1:s.orden<d.orden?-1:0);for(let s=0;s<a.length;s++)a[s].next=s==a.length-1?null:a[s+1],a[s].prev=0==s?null:a[s-1];console.log(a)}resalta(e){const{p:o,resalta:a}=e,i=o.guiaId;this.horarios.forEach(s=>{s.alturas.forEach(d=>{d.perros.map(C=>{C.resaltado=!1});const g=d.perros.filter(C=>C.guiaId===i);g&&g.map(C=>{C.resaltado=a})})})}guardarOrden(){console.log(this.horarios);const e=this.horarios.reduce((o,a)=>(a.alturas.forEach(i=>{i.perros.forEach(s=>{o.push({perroId:s.id,turno:a.turno,turnoAlturaId:i.turnoAlturaId,orden:s.orden})})}),o),[]);this.ordenSalidaService.guardarOrdenSalida(this.id,this.horario,e).subscribe(console.log)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.gz),t.Y36(Zn))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-orden-salida"]],decls:10,vars:1,consts:[["fxLayout","row"],["fxFlex","25",4,"ngFor","ngForOf"],["type","button","mat-raised-button","","color","primary",3,"click"],["fxFlex","25"],["fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column"],[3,"altura","resaltaMismoGuia","ordenCambiado"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"h1"),t._uU(2,"Orden de salida"),t.qZA(),t._UZ(3,"mat-divider")(4,"br"),t.qZA(),t.TgZ(5,"div",0),t.YNc(6,En,4,2,"div",1),t.qZA(),t.TgZ(7,"div")(8,"button",2),t.NdJ("click",function(){return o.guardarOrden()}),t._uU(9," Guardar "),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngForOf",o.horarios))},dependencies:[f.sg,p.xw,p.yH,Z.lW,A.d,Pn],encapsulation:2}),n})(),it=(()=>{class n{constructor(e){this.http=e,this.baseUrl=D.N.baseUrl}getEvento(e){return this.http.get(`${this.baseUrl}/api/eventos/${e}`)}getEventos(e="nombre",o="asc",a=0,i=150,s=""){const d=(new b.LE).appendAll({sort:e,order:o,desde:a,limite:i,like:s});return this.http.get(`${this.baseUrl}/api/eventos`,{params:d})}putEvento(e,o){return this.http.put(`${this.baseUrl}/api/eventos/${e.id}`,{evento:e,jornadaBase:o})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(b.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K=(()=>{class n{transform(e){return`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"hora",type:n,pure:!0}),n})();var U=u(6257),E=u(9602);function Ln(n,r){if(1&n&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.nombre," ")}}function jn(n,r){if(1&n&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.nombre," ")}}function Un(n,r){if(1&n&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.descripcion," ")}}let qn=(()=>{class n{constructor(e,o,a,i,s,d,g,C){this.fb=e,this.activatedRoute=o,this.router=a,this.clubesService=i,this.reglamentosService=s,this.federacionesService=d,this.eventosService=g,this.horaPipe=C,this.eventoChange=new t.vpe,this.jornadaBaseChange=new t.vpe,this.reglamento=null,this.reglamentoChange=new t.vpe,this.clubes=[],this.reglamentos=[],this.federaciones=[],this.eventoForm=this.fb.group({id:[],nombre:[,[l.kI.required]],fecha_evento:[,[l.kI.required]],clubId:[],ubicacion:[],fecha_inscripcion_desde:[,[l.kI.required]],fecha_inscripcion_hasta:[,[l.kI.required]],observaciones:[""],federacionId:[],reglamentoId:[],numero_dias:[],jornadas:this.fb.array([])})}get JornadasArr(){return this.eventoForm.get("jornadas")}addJornadaFormGroup(){const e={id:0,nombre:"",fecha:new Date,pistas:0,turnos:0,horaComienzo:new Date,cerrada:!1,estado:!0,eventoId:0,pruebas:[],horarios:[]};return this.fb.group(e)}setJornadasExistentes(e){let o;return e.forEach(a=>{let i=this.fb.group(a);o?o.push(i):o=this.fb.array([i])}),o}ngAfterViewInit(){console.log("ngAfterViewInit",this.evento)}get turnos(){return this.config?Array.from(Array(this.config.numero_turnos).keys()).map(e=>e+1):[]}ngOnInit(){console.log("ngoninit",this.evento),this.clubesService.getClubes(void 0,void 0,0,100).subscribe(e=>{this.clubes=e.rows}),this.federacionesService.getFederaciones().subscribe(e=>{this.federaciones=e.rows}),this.eventoForm.get("federacionId")?.valueChanges.pipe((0,N.b)(e=>{this.eventoForm.get("reglamentoId")?.touched&&this.eventoForm.get("reglamentoId")?.reset(""),this.reglamentos=[]}),(0,x.w)(e=>e?this.federacionesService.getFederacionById(e):(0,P.of)(null))).subscribe(e=>{null!==e&&e.reglamentos&&(this.reglamentos=e.reglamentos)}),this.eventoForm.get("reglamentoId")?.valueChanges.pipe((0,N.b)(e=>{this.eventoForm.get("reglamentoId")?.touched&&this.eventoForm.get("reglamentoId")?.reset(""),this.reglamento=null,this.reglamentoChange.emit(this.reglamento)}),(0,x.w)(e=>e?this.reglamentosService.getReglamentoById(e):(0,P.of)(null))).subscribe(e=>{e?.grados.forEach(o=>{o.tipos_manga?.forEach(a=>{a.turnos=[],a.pistas=[],this.turnos.forEach(i=>{a.turnos?.push({id:i,alturas:[]})})})}),this.reglamento=e,this.reglamentoChange.emit(this.reglamento)}),this.router.url.includes("editar")&&(this.activatedRoute.params.pipe((0,x.w)(({id:e})=>this.eventosService.getEvento(e))).subscribe(e=>{this.evento=e.evento;const o=this.evento.jornadas;this.eventoForm.reset({...this.evento}),this.eventoForm.setControl("jornadas",this.setJornadasExistentes(o)),console.log("eventoform",this.eventoForm.value),this.jornadaBase=this.evento.numero_dias&&this.evento.jornadas?{id:this.evento.jornadas[0].id,nombre:this.evento.jornadas[0].nombre,fecha:new Date(this.evento.jornadas[0].fecha),pistas:this.evento.jornadas[0].pistas,turnos:this.evento.jornadas[0].turnos,horaComienzo:new Date(this.evento.jornadas[0].horaComienzo),hora:this.horaPipe.transform(new Date(this.evento.jornadas[0].horaComienzo)),cerrada:this.evento.jornadas[0].cerrada,estado:this.evento.jornadas[0].estado,eventoId:this.evento.jornadas[0].eventoId,pruebas:[],horarios:[]}:{id:0,nombre:"PLANTILLA",fecha:this.evento.fecha_evento,pistas:1,turnos:1,horaComienzo:new Date(this.evento.fecha_evento),hora:this.horaPipe.transform(new Date(this.evento.fecha_evento)),cerrada:!1,estado:!0,eventoId:this.evento.id,pruebas:[],horarios:[]},this.jornadaBaseChange.emit(this.jornadaBase),this.config=e.config}),this.eventoForm.valueChanges.subscribe(({...e})=>{this.evento=e,this.eventoChange.emit(this.evento)}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(_.gz),t.Y36(_.F0),t.Y36(B),t.Y36(X),t.Y36(J),t.Y36(it),t.Y36(K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-evento-generales"]],inputs:{config:"config",evento:"evento",jornadaBase:"jornadaBase",reglamento:"reglamento"},outputs:{eventoChange:"eventoChange",jornadaBaseChange:"jornadaBaseChange",reglamentoChange:"reglamentoChange"},decls:51,vars:8,consts:[[3,"formGroup"],["fxLayout","column","fxLayoutGap","20px"],["appearance","fill"],["matInput","","formControlName","nombre","placeholder","Nombre del evento","required",""],["formControlName","clubId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","ubicacion","placeholder","Ubicaci\xf3n del evento","required",""],["fxLayout","row","fxLayoutGap","20px"],["appearance","fill","fxFlex","100"],["matInput","","placeholder","Introduzca la fecha","formControlName","fecha_evento",3,"matDatepicker"],["matPrefix","",3,"for"],["fechaEvento",""],["matInput","","type","number","formControlName","numero_dias","required",""],[3,"rangePicker"],["matStartDate","","placeholder","Fecha comienzo","formControlName","fecha_inscripcion_desde"],["matEndDate","","placeholder","Fecha final","formControlName","fecha_inscripcion_hasta"],["fechasInscripcion",""],["formControlName","federacionId"],["formControlName","reglamentoId"],[3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),t._uU(4,"Nombre"),t.qZA(),t._UZ(5,"input",3),t.qZA(),t.TgZ(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Club"),t.qZA(),t.TgZ(9,"mat-select",4),t.YNc(10,Ln,2,2,"mat-option",5),t.qZA()(),t.TgZ(11,"mat-form-field",2)(12,"mat-label"),t._uU(13,"Ubicaci\xf3n"),t.qZA(),t._UZ(14,"input",6),t.qZA(),t.TgZ(15,"div",7)(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Fecha del evento"),t.qZA(),t._UZ(19,"input",9),t.TgZ(20,"mat-hint"),t._uU(21,"DD/MM/YYYY"),t.qZA(),t._UZ(22,"mat-datepicker-toggle",10)(23,"mat-datepicker",null,11),t.qZA(),t.TgZ(25,"mat-form-field",8)(26,"mat-label"),t._uU(27,"N\xfamero de d\xedas"),t.qZA(),t._UZ(28,"input",12),t.qZA()(),t.TgZ(29,"mat-form-field",2)(30,"mat-label"),t._uU(31,"Fechas de inscripci\xf3n"),t.qZA(),t.TgZ(32,"mat-date-range-input",13),t._UZ(33,"input",14)(34,"input",15),t.qZA(),t.TgZ(35,"mat-hint"),t._uU(36,"DD/MM/YYYY \u2013 DD/MM/YYYY"),t.qZA(),t._UZ(37,"mat-datepicker-toggle",10)(38,"mat-date-range-picker",null,16),t.qZA(),t.TgZ(40,"mat-form-field",2)(41,"mat-label"),t._uU(42,"Federaci\xf3n"),t.qZA(),t.TgZ(43,"mat-select",17),t.YNc(44,jn,2,2,"mat-option",5),t.qZA()(),t.TgZ(45,"mat-form-field",2)(46,"mat-label"),t._uU(47,"Reglamento"),t.qZA(),t.TgZ(48,"mat-select",18),t.YNc(49,Un,2,2,"mat-option",5),t.qZA()(),t._UZ(50,"div"),t.qZA()()),2&e){const a=t.MAs(24),i=t.MAs(39);t.Q6J("formGroup",o.eventoForm),t.xp6(10),t.Q6J("ngForOf",o.clubes),t.xp6(9),t.Q6J("matDatepicker",a),t.xp6(3),t.Q6J("for",a),t.xp6(10),t.Q6J("rangePicker",i),t.xp6(5),t.Q6J("for",i),t.xp6(7),t.Q6J("ngForOf",o.federaciones),t.xp6(5),t.Q6J("ngForOf",o.reglamentos)}},dependencies:[f.sg,p.xw,p.SQ,p.yH,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.Q7,l.sg,l.u,E.Mq,E.hl,E.nW,E.wx,E.zY,E.By,E._g,h.KE,h.bx,h.hX,h.qo,w.Nt,z.gD,W.ey],encapsulation:2}),n})(),Mn=(()=>{class n{constructor(e,o,a,i,s){this.fb=e,this.activatedRoute=o,this.jornadasService=a,this.router=i,this.horaPipe=s,this.reglamento=null,this.jornadaChange=new t.vpe,this.jornadaForm=this.fb.group({id:[],eventoId:[],pistas:[,[l.kI.required]],turnos:[,[l.kI.required]],hora:[],hora_comienzo:[],fecha:[],cerrada:[],estado:[],pruebas:this.fb.array([]),config_pistas:this.fb.array([])})}get PruebasArr(){return this.jornadaForm.get("pruebas")}addPruebaFormGroup(){return this.fb.group({})}setPruebasExistentes(e){let o;return e.forEach(a=>{let i=this.fb.group(a);o?o.push(i):o=this.fb.array([i])}),o}setConfigPistasExistentes(e){let o;return e.forEach(a=>{let i=this.fb.group(a);o?o.push(i):o=this.fb.array([i])}),o}get turnos(){return this.jornada?Array.from(Array(this.jornada.turnos).keys()).map(e=>e+1):[]}ngOnChanges(e){}ngOnInit(){this.jornada?.id&&this.jornadasService.getJornadaById(this.jornada?.id).pipe((0,N.b)(e=>{e.config_pistas?.forEach(o=>{o.cronos=[o.crono],o.pantallas=[o.pantalla],o.pitufos=[o.pitufo],o.suturnos=[o.suturno]})})).subscribe(e=>{this.jornada=e,this.jornada.horaComienzo=new Date(e.horaComienzo),this.jornada.hora=this.horaPipe.transform(new Date(e.horaComienzo)),this.jornadaForm.reset(this.jornada),this.jornada?.pruebas&&this.jornadaForm.setControl("pruebas",this.setPruebasExistentes(this.jornada?.pruebas)),console.log(this.jornada),this.jornada?.config_pistas&&this.jornadaForm.setControl("config_pistas",this.setConfigPistasExistentes(this.jornada?.config_pistas)),this.jornadaChange.emit(this.jornada),this.jornadaForm.valueChanges.subscribe(({...o})=>{this.jornada=o,this.jornadaChange.emit(this.jornada)}),console.log("jornadaForm",this.jornadaForm.value)}),(0,q.T)(this.jornadaForm.get("turnos").valueChanges).pipe((0,M.b)(500)).subscribe(e=>{})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(_.gz),t.Y36(rt),t.Y36(_.F0),t.Y36(K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-evento-jornada"]],inputs:{reglamento:"reglamento",jornada:"jornada"},outputs:{jornadaChange:"jornadaChange"},features:[t.TTD],decls:14,vars:1,consts:[[3,"formGroup"],["fxLayout","column","fxLayoutGap","20px"],["appearance","fill"],["matInput","","type","number","formControlName","pistas","required",""],["matInput","","type","number","formControlName","turnos","required",""],["matInput","","type","time","formControlName","hora","required",""]],template:function(e,o){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),t._uU(4,"N\xfamero de pistas"),t.qZA(),t._UZ(5,"input",3),t.qZA(),t.TgZ(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"N\xfamero de turnos"),t.qZA(),t._UZ(9,"input",4),t.qZA(),t.TgZ(10,"mat-form-field",2)(11,"mat-label"),t._uU(12,"Hora de comienzo de las pruebas"),t.qZA(),t._UZ(13,"input",5),t.qZA()()()),2&e&&t.Q6J("formGroup",o.jornadaForm)},dependencies:[p.xw,p.SQ,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.Q7,l.sg,l.u,h.KE,h.hX,w.Nt],encapsulation:2}),n})();var I=u(9063);let Ct=(()=>{class n{constructor(e){this.http=e,this.baseUrl=D.N.baseUrl}getUsuariosByPerfil(e){const o=(new b.LE).appendAll({perfil:e});return this.http.get(`${this.baseUrl}/api/usuarios`,{params:o})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(b.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nn(n,r){if(1&n&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.nombre," ")}}function Jn(n,r){if(1&n&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.nombre," ")}}function In(n,r){if(1&n&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.nombre," ")}}function Sn(n,r){if(1&n&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.nombre," ")}}function Yn(n,r){if(1&n&&(t.TgZ(0,"div",22),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("cdkDragData",e),t.xp6(1),t.hij(" ",e.nombre," ")}}function Qn(n,r){if(1&n&&(t.TgZ(0,"div",22),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("cdkDragData",e),t.xp6(1),t.hij(" ",e.nombre," ")}}function Gn(n,r){if(1&n&&(t.TgZ(0,"div",22),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("cdkDragData",e),t.xp6(1),t.hij(" ",e.nombre," ")}}function Rn(n,r){if(1&n&&(t.TgZ(0,"div",22),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("cdkDragData",e),t.xp6(1),t.hij(" ",e.nombre," ")}}function $n(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",12),t._uU(2),t.qZA(),t.TgZ(3,"div",13),t.NdJ("cdkDropListDropped",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.drop(a))}),t._UZ(4,"img",14),t.YNc(5,Yn,2,2,"div",15),t.qZA(),t.TgZ(6,"div",16),t.NdJ("cdkDropListDropped",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.drop(a))}),t._UZ(7,"img",17),t.YNc(8,Qn,2,2,"div",15),t.qZA(),t.TgZ(9,"div",18),t.NdJ("cdkDropListDropped",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.drop(a))}),t._UZ(10,"img",19),t.YNc(11,Gn,2,2,"div",15),t.qZA(),t.TgZ(12,"div",20),t.NdJ("cdkDropListDropped",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.drop(a))}),t._UZ(13,"img",21),t.YNc(14,Rn,2,2,"div",15),t.qZA()()}if(2&n){const e=r.$implicit,o=t.oxw();t.xp6(2),t.hij(" Pista ",e.numero," "),t.xp6(1),t.Q6J("id","pantalla_"+e.numero)("cdkDropListData",e.pantallas)("cdkDropListEnterPredicate",o.canDrop),t.xp6(2),t.Q6J("ngForOf",e.pantallas),t.xp6(1),t.Q6J("cdkDropListEnterPredicate",o.canDrop)("id","pitufo_"+e.numero)("cdkDropListData",e.pitufos),t.xp6(2),t.Q6J("ngForOf",e.pitufos),t.xp6(1),t.Q6J("cdkDropListEnterPredicate",o.canDrop)("id","crono_"+e.numero)("cdkDropListData",e.cronos),t.xp6(2),t.Q6J("ngForOf",e.cronos),t.xp6(1),t.Q6J("cdkDropListEnterPredicate",o.canDrop)("id","suturno_"+e.numero)("cdkDropListData",e.suturnos),t.xp6(2),t.Q6J("ngForOf",e.suturnos)}}let Bn=(()=>{class n{constructor(e){this.usuariosService=e,this.jornadaChange=new t.vpe,this.reglamento=null,this.pitufos=[],this.pantallas=[],this.cronos=[],this.suturnos=[]}ngAfterViewInit(){}ngOnChanges(e){}ngOnInit(){this.usuariosService.getUsuariosByPerfil(I.Z.Pitufo).subscribe(e=>{this.pitufos=e.filter(o=>{let a=!1;return this.jornada?.config_pistas?.forEach(i=>{i.pitufoUid===o.uid&&(a=!0)}),!a})}),this.usuariosService.getUsuariosByPerfil(I.Z.Videowall).subscribe(e=>{this.pantallas=e.filter(o=>{let a=!1;return this.jornada?.config_pistas?.forEach(i=>{i.pantallaUid===o.uid&&(a=!0)}),!a})}),this.usuariosService.getUsuariosByPerfil(I.Z.Crono).subscribe(e=>{this.cronos=e.filter(o=>{let a=!1;return this.jornada?.config_pistas?.forEach(i=>{i.cronoUid===o.uid&&(a=!0)}),!a})}),this.usuariosService.getUsuariosByPerfil(I.Z.Suturno).subscribe(e=>{this.suturnos=e.filter(o=>{let a=!1;return this.jornada?.config_pistas?.forEach(i=>{i.suturnoUid===o.uid&&(a=!0)}),!a})}),console.log("evento_perifericos",this.jornada?.config_pistas),this.jornada&&!this.jornada?.config_pistas&&(this.jornada.config_pistas=[]),this.jornada?.config_pistas&&this.jornada?.config_pistas.length!==this.jornada.pistas&&(this.jornada.config_pistas=[],Array.from(Array(this.jornada.pistas).keys()).map(e=>e+1).forEach(e=>{this.jornada?.config_pistas.push({numero:e,pantallas:[],pitufos:[],cronos:[],suturnos:[]})}),console.log("evento_perifericos",this.jornada?.config_pistas))}drop(e){console.log(e),e.previousContainer===e.container?(0,m.bA)(e.container.data,e.previousIndex,e.currentIndex):"pistas"===e.container.id?e.previousContainer.data.splice(e.previousIndex,1):((0,m.EA)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.jornadaChange.emit(this.jornada))}canDrop(e,o){return 0==o.getSortedItems().length}getPantallas(){const e=[];return this.jornada?.config_pistas?.forEach(o=>{e.push("pantalla_"+o.numero)}),e}getPitufos(){const e=[];return this.jornada?.config_pistas?.forEach(o=>{e.push("pitufo_"+o.numero)}),e}getCronos(){const e=[];return this.jornada?.config_pistas?.forEach(o=>{e.push("crono_"+o.numero)}),e}getSuturnos(){const e=[];return this.jornada?.config_pistas?.forEach(o=>{e.push("suturno_"+o.numero)}),e}exited(e){}entered(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ct))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-evento-perifericos"]],inputs:{jornada:"jornada",evento:"evento",reglamento:"reglamento"},outputs:{jornadaChange:"jornadaChange"},features:[t.TTD],decls:20,vars:13,consts:[[1,"contenedor"],[1,"perifericos"],["cdkDropList","","cdkDropListSortingDisabled","","cdkDropListOrientation","vertical","id","pantallasId",1,"hueco",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped","cdkDropListExited","cdkDropListEntered"],[1,"pista","sinborde"],["cdkDrag","","class","pista","cdkDragData","pantalla",4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListSortingDisabled","","cdkDropListOrientation","vertical","id","pitufosId",1,"hueco",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped","cdkDropListExited","cdkDropListEntered"],["cdkDropList","","cdkDropListSortingDisabled","","cdkDropListOrientation","vertical","id","cronosId",1,"hueco",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped","cdkDropListExited","cdkDropListEntered"],["cdkDropList","","cdkDropListSortingDisabled","","cdkDropListOrientation","vertical","id","suturnosId",1,"hueco",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped","cdkDropListExited","cdkDropListEntered"],[1,"pistas"],["class","contenedor-perif",4,"ngFor","ngForOf"],["cdkDrag","","cdkDragData","pantalla",1,"pista"],[1,"contenedor-perif"],[1,"titulo-pista"],["cdkDropList","","cdkDropListOrientation","horizontal","cdkDropListConnectedTo","pantallasId",1,"pantallas",3,"id","cdkDropListData","cdkDropListEnterPredicate","cdkDropListDropped"],["src","assets/videowall.svg","alt",""],["class","hueco","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListOrientation","horizontal","cdkDropListConnectedTo","pitufosId",1,"pitufos",3,"cdkDropListEnterPredicate","id","cdkDropListData","cdkDropListDropped"],["src","assets/pitufo.svg","alt",""],["cdkDropList","","cdkDropListOrientation","horizontal","cdkDropListConnectedTo","cronosId",1,"cronos",3,"cdkDropListEnterPredicate","id","cdkDropListData","cdkDropListDropped"],["src","assets/crono.svg","alt",""],["cdkDropList","","cdkDropListOrientation","horizontal","cdkDropListConnectedTo","suturnosId",1,"suturnos",3,"cdkDropListEnterPredicate","id","cdkDropListData","cdkDropListDropped"],["src","assets/suturno.svg","alt",""],["cdkDrag","",1,"hueco",3,"cdkDragData"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.NdJ("cdkDropListDropped",function(i){return o.drop(i)})("cdkDropListExited",function(i){return o.exited(i)})("cdkDropListEntered",function(){return o.entered()}),t.TgZ(3,"div",3),t._uU(4,"Pantallas"),t.qZA(),t.YNc(5,Nn,2,1,"div",4),t.qZA(),t.TgZ(6,"div",5),t.NdJ("cdkDropListDropped",function(i){return o.drop(i)})("cdkDropListExited",function(i){return o.exited(i)})("cdkDropListEntered",function(){return o.entered()}),t.TgZ(7,"div",3),t._uU(8,"Pitufos"),t.qZA(),t.YNc(9,Jn,2,1,"div",4),t.qZA(),t.TgZ(10,"div",6),t.NdJ("cdkDropListDropped",function(i){return o.drop(i)})("cdkDropListExited",function(i){return o.exited(i)})("cdkDropListEntered",function(){return o.entered()}),t.TgZ(11,"div",3),t._uU(12,"Cronos"),t.qZA(),t.YNc(13,In,2,1,"div",4),t.qZA(),t.TgZ(14,"div",7),t.NdJ("cdkDropListDropped",function(i){return o.drop(i)})("cdkDropListExited",function(i){return o.exited(i)})("cdkDropListEntered",function(){return o.entered()}),t.TgZ(15,"div",3),t._uU(16,"Turnos"),t.qZA(),t.YNc(17,Sn,2,1,"div",4),t.qZA()(),t.TgZ(18,"div",8),t.YNc(19,$n,15,17,"div",9),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("cdkDropListData",o.pantallas)("cdkDropListConnectedTo",o.getPantallas()),t.xp6(3),t.Q6J("ngForOf",o.pantallas),t.xp6(1),t.Q6J("cdkDropListData",o.pitufos)("cdkDropListConnectedTo",o.getPitufos()),t.xp6(3),t.Q6J("ngForOf",o.pitufos),t.xp6(1),t.Q6J("cdkDropListData",o.cronos)("cdkDropListConnectedTo",o.getCronos()),t.xp6(3),t.Q6J("ngForOf",o.cronos),t.xp6(1),t.Q6J("cdkDropListData",o.suturnos)("cdkDropListConnectedTo",o.getSuturnos()),t.xp6(3),t.Q6J("ngForOf",o.suturnos),t.xp6(2),t.Q6J("ngForOf",null==o.jornada?null:o.jornada.config_pistas))},dependencies:[f.sg,m.Wj,m.Zt],styles:['.contenedor[_ngcontent-%COMP%]{max-width:120rem;margin:1rem auto 0;display:flex;flex-direction:row;justify-content:space-evenly;min-height:70vh;gap:1rem}.perifericos[_ngcontent-%COMP%]{display:grid;grid-template-columns:15rem 15rem;grid-template-rows:30rem 30rem;gap:1rem;align-content:center;justify-items:center}.pistas[_ngcontent-%COMP%]{display:grid;grid-template-columns:30rem 30rem;gap:1rem}.pistas[_ngcontent-%COMP%]   .pantallas[_ngcontent-%COMP%], .pistas[_ngcontent-%COMP%]   .pitufos[_ngcontent-%COMP%], .pistas[_ngcontent-%COMP%]   .cronos[_ngcontent-%COMP%], .pistas[_ngcontent-%COMP%]   .suturnos[_ngcontent-%COMP%]{height:10rem;display:flex;flex-direction:column;align-items:center;justify-content:center}.pistas[_ngcontent-%COMP%]   .pantallas[_ngcontent-%COMP%]{grid-area:pantalla}.pistas[_ngcontent-%COMP%]   .pitufos[_ngcontent-%COMP%]{grid-area:pitufo}.pistas[_ngcontent-%COMP%]   .cronos[_ngcontent-%COMP%]{grid-area:crono}.pistas[_ngcontent-%COMP%]   .suturnos[_ngcontent-%COMP%]{grid-area:suturno}.pistas[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10rem}.pistas[_ngcontent-%COMP%]   .titulo-pista[_ngcontent-%COMP%]{grid-area:header;display:flex;justify-content:center}.hueco[_ngcontent-%COMP%]{min-height:40px;background:white;border-radius:4px;overflow:hidden;display:flex;flex-direction:column;box-sizing:border-box;gap:5px;padding-left:5px;margin-bottom:5px}.pista[_ngcontent-%COMP%]{width:110px;height:30px;display:flex;justify-content:center;align-items:center;border:solid 1px #ccc;min-height:30px;background:white;border-radius:4px;overflow:hidden;cursor:move}.sinborde[_ngcontent-%COMP%]{border:none;cursor:auto}.contenedor-perif[_ngcontent-%COMP%]{border:1px solid #ccc;display:grid;grid-template-areas:"header header" "pantalla pitufo" "crono suturno";grid-template-columns:repeat(2,1fr);grid-template-rows:.1fr 1fr 1fr}']}),n})();function Hn(n,r){if(1&n&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("cdkDragData",e),t.xp6(1),t.hij(" Pista ",e," ")}}function zn(n,r){if(1&n&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("cdkDragData",e),t.xp6(1),t.hij(" Pista ",e," ")}}function Wn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6),t._uU(2),t.qZA(),t.TgZ(3,"div",10),t.NdJ("cdkDropListDropped",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.drop(a))}),t.YNc(4,zn,2,2,"div",4),t.qZA()()}if(2&n){const e=r.$implicit,o=t.oxw().$implicit,a=t.oxw();t.xp6(2),t.Oqu(e.tipo_manga.descripcion),t.xp6(1),t.Q6J("cdkDropListEnterPredicate",a.canDropP)("cdkDropListData",e.pistas)("id","prueba_"+o.id+"_manga_"+e.id),t.xp6(1),t.Q6J("ngForOf",e.pistas)}}function Xn(n,r){if(1&n&&(t.TgZ(0,"div")(1,"div",5)(2,"div",2),t._uU(3),t.qZA(),t._UZ(4,"div",2),t.qZA(),t.YNc(5,Wn,5,5,"div",9),t.qZA()),2&n){const e=r.$implicit;t.xp6(3),t.Oqu(e.grado.descripcion),t.xp6(2),t.Q6J("ngForOf",e.mangas)}}let Kn=(()=>{class n{constructor(){this.jornadaChange=new t.vpe}get pistas(){return this.jornada?Array.from(Array(this.jornada.pistas).keys()).map(e=>e+1):[]}ngOnInit(){console.log("evento-pistas",this.jornada),this.jornada?.pruebas.forEach(e=>{e.mangas?.forEach(o=>{o.pistas||(o.pistas=o.pista?[o.pista]:[])})})}drop(e){e.previousContainer===e.container?(0,m.bA)(e.container.data,e.previousIndex,e.currentIndex):"pistas"===e.container.id?e.previousContainer.data.splice(e.previousIndex,1):((0,m.jR)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.jornadaChange.emit(this.jornada))}canDropP(e,o){return 0==o.getSortedItems().length}getPistas(){const e=[];return this.jornada?.pruebas.forEach(o=>{o.mangas?.forEach(a=>{e.push("prueba_"+o.id+"_manga_"+a.id)})}),e}exitedP(e){}enteredP(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-evento-pistas"]],inputs:{jornada:"jornada"},outputs:{jornadaChange:"jornadaChange"},decls:12,vars:4,consts:[[1,"contenedor"],[1,"header"],[1,"hueco","sinborde"],["cdkDropList","","id","pistas","cdkDropListSortingDisabled","","cdkDropListOrientation","horizontal",1,"hueco","sinborde",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped","cdkDropListExited","cdkDropListEntered"],["class","pista","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],[1,"manga"],[1,"hueco"],[4,"ngFor","ngForOf"],["cdkDrag","",1,"pista",3,"cdkDragData"],["class","manga",4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListOrientation","horizontal","cdkDropListConnectedTo","pistas",1,"hueco",3,"cdkDropListEnterPredicate","cdkDropListData","id","cdkDropListDropped"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3," Pistas "),t.qZA(),t.TgZ(4,"div",3),t.NdJ("cdkDropListDropped",function(i){return o.drop(i)})("cdkDropListExited",function(i){return o.exitedP(i)})("cdkDropListEntered",function(){return o.enteredP()}),t.YNc(5,Hn,2,2,"div",4),t.qZA()(),t.TgZ(6,"div")(7,"div",5),t._UZ(8,"div",2),t.TgZ(9,"div",6),t._uU(10,"Pista"),t.qZA()(),t.YNc(11,Xn,6,2,"div",7),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("cdkDropListData",o.pistas)("cdkDropListConnectedTo",o.getPistas()),t.xp6(1),t.Q6J("ngForOf",o.pistas),t.xp6(6),t.Q6J("ngForOf",null==o.jornada?null:o.jornada.pruebas))},dependencies:[f.sg,m.Wj,m.Zt],styles:[".contenedor[_ngcontent-%COMP%]{max-width:120rem;margin:1rem auto 0;display:flex;flex-direction:column;min-height:70vh}.header[_ngcontent-%COMP%]{display:flex;gap:10px}.header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){flex-basis:5%}.header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){flex-basis:85%}.hueco[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:40px;background:white;border-radius:4px;overflow:hidden;display:flex;flex-direction:row;height:40px;justify-content:center;align-items:center;flex-basis:calc(25% - 1rem);box-sizing:border-box;gap:5px;padding-left:5px;margin-bottom:5px}.sinborde[_ngcontent-%COMP%]{border:none}.pista[_ngcontent-%COMP%]{width:110px;height:30px;display:flex;justify-content:center;align-items:center;border:solid 1px #ccc;min-height:30px;background:white;border-radius:4px;overflow:hidden;cursor:move}.manga[_ngcontent-%COMP%]{display:flex;gap:5px;justify-content:center}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,1,.2)}.hueco.cdk-drop-list-dragging[_ngcontent-%COMP%]   .hueco[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,1,.2)}"]}),n})();function Vn(n,r){if(1&n&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("cdkDragData",e),t.xp6(1),t.hij(" ",e.codigo," ")}}function to(n,r){if(1&n&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" Turno ",e," ")}}function eo(n,r){if(1&n&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("cdkDragData",e),t.xp6(1),t.hij(" ",e.codigo," ")}}function no(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",11),t.NdJ("cdkDropListDropped",function(a){t.CHM(e);const i=t.oxw(3);return t.KtG(i.drop(a))}),t.YNc(1,eo,2,2,"div",3),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw().$implicit,a=t.oxw().$implicit,i=t.oxw();t.Q6J("cdkDropListEnterPredicate",i.canDrop(o))("cdkDropListData",e.alturas)("id","prueba_"+a.id+"_manga_"+o.id+"_turno_"+e.id),t.xp6(1),t.Q6J("ngForOf",e.alturas)}}function oo(n,r){if(1&n&&(t.TgZ(0,"div",4)(1,"div",8),t._uU(2),t.qZA(),t.YNc(3,no,2,4,"div",10),t.qZA()),2&n){const e=r.$implicit;t.xp6(2),t.Oqu(e.tipo_manga.descripcion),t.xp6(1),t.Q6J("ngForOf",e.turnos)}}function ao(n,r){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.YNc(2,oo,4,2,"div",9),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.grado.descripcion," "),t.xp6(1),t.Q6J("ngForOf",e.mangas)}}let ro=(()=>{class n{constructor(){this.reglamento=null,this.jornadaChange=new t.vpe,this.pruebasChange=new t.vpe}get turnos(){return this.jornada?Array.from(Array(this.jornada.turnos).keys()).map(e=>e+1):[]}get turnosAsignados(){return this.jornada?Array.from(Array(this.jornada.turnos).keys()).map(e=>{}):[]}ngOnInit(){this.jornada?.pruebas.forEach(e=>{e.mangas?.forEach(o=>{const a=[];this.turnos.forEach(i=>{const s=o.turnos.find(d=>d.numero_turno==i);a.push(s||{numero_turno:i,alturas:[]})}),o.turnos=a})})}drop(e){e.previousContainer===e.container?((0,m.bA)(e.container.data,e.previousIndex,e.currentIndex),console.log(e),"alturas"===e.container.connectedTo&&e.container.data.forEach((o,a)=>{o.Turno_Altura.orden=a+1})):"alturas"===e.container.id?e.previousContainer.data.splice(e.previousIndex,1):(0,m.jR)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),e.previousContainer.data&&this.reglamento&&(this.reglamento.alturas=this.reglamento?.alturas.filter(o=>!o.temp)),this.jornadaChange.emit(this.jornada),this.pruebasChange.emit(this.pruebas)}canDrop(e){return(o,a)=>{let i=!1;return e.turnos?.forEach(s=>{s.alturas.find(g=>g.codigo===o.data.codigo)&&(i=!0)}),!i}}getTurnos(){const e=[];return this.jornada?.pruebas.forEach(o=>{o.mangas?.forEach(a=>{a.turnos?.forEach((i,s)=>{e.push("prueba_"+o.id+"_manga_"+a.id+"_turno_"+i.id)})})}),e}exited(e){const o=e.container.data.findIndex(a=>a.codigo===e.item.data.codigo);this.reglamento?.alturas.splice(o+1,0,{...e.item.data,temp:!0})}entered(){this.reglamento&&(this.reglamento.alturas=this.reglamento?.alturas.filter(e=>!e.temp))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-evento-turnos"]],inputs:{reglamento:"reglamento",jornada:"jornada",pruebas:"pruebas"},outputs:{jornadaChange:"jornadaChange",pruebasChange:"pruebasChange"},decls:10,vars:5,consts:[[1,"header"],[1,"hueco","sinborde"],["cdkDropList","","id","alturas","cdkDropListSortingDisabled","","cdkDropListOrientation","horizontal",1,"hueco","sinborde",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped","cdkDropListExited","cdkDropListEntered"],["class","altura","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],[1,"manga"],["class","hueco",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["cdkDrag","",1,"altura",3,"cdkDragData"],[1,"hueco"],["class","manga",4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListOrientation","horizontal","cdkDropListConnectedTo","alturas","class","hueco",3,"cdkDropListEnterPredicate","cdkDropListData","id","cdkDropListDropped",4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListOrientation","horizontal","cdkDropListConnectedTo","alturas",1,"hueco",3,"cdkDropListEnterPredicate","cdkDropListData","id","cdkDropListDropped"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," Alturas "),t.qZA(),t.TgZ(3,"div",2),t.NdJ("cdkDropListDropped",function(i){return o.drop(i)})("cdkDropListExited",function(i){return o.exited(i)})("cdkDropListEntered",function(){return o.entered()}),t.YNc(4,Vn,2,2,"div",3),t.qZA()(),t.TgZ(5,"div")(6,"div",4),t._UZ(7,"div",1),t.YNc(8,to,2,1,"div",5),t.qZA(),t.YNc(9,ao,3,2,"div",6),t.qZA()),2&e&&(t.xp6(3),t.Q6J("cdkDropListData",null==o.reglamento?null:o.reglamento.alturas)("cdkDropListConnectedTo",o.getTurnos()),t.xp6(1),t.Q6J("ngForOf",null==o.reglamento?null:o.reglamento.alturas),t.xp6(4),t.Q6J("ngForOf",o.turnos),t.xp6(1),t.Q6J("ngForOf",null==o.jornada?null:o.jornada.pruebas))},dependencies:[f.sg,m.Wj,m.Zt],styles:[".contenedor[_ngcontent-%COMP%]{max-width:120rem;margin:1rem auto 0}.header[_ngcontent-%COMP%]{display:flex;gap:10px}.header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){flex-basis:5%}.header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){flex-basis:45%}.header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){flex-basis:5%}.header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){flex-basis:45%}.hueco[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:40px;background:white;border-radius:4px;overflow:hidden;display:flex;flex-direction:row;height:40px;justify-content:center;align-items:center;flex-basis:calc(25% - 1rem);box-sizing:border-box;gap:5px;padding-left:5px;margin-bottom:5px}.sinborde[_ngcontent-%COMP%]{border:none}.altura[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;justify-content:center;align-items:center;border:solid 1px #ccc;min-height:30px;background:white;border-radius:4px;overflow:hidden;cursor:move}.manga[_ngcontent-%COMP%]{display:flex;gap:5px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,1,.2)}.hueco.cdk-drop-list-dragging[_ngcontent-%COMP%]   .hueco[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,1,.2)}"]}),n})();function io(n,r){if(1&n&&(t.TgZ(0,"td",6),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.tipo_manga.descripcion,"\n")}}function so(n,r){if(1&n&&(t.TgZ(0,"td",6),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.grado.codigo,"\n")}}function co(n,r){if(1&n&&(t.TgZ(0,"td",6),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.altura.codigo,"\n")}}function lo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",7),t.NdJ("cdkDragDropped",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.dropped(a))}),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw();t.ekj("disabled-row",o.disabledAlturas.includes(o.grado.codigo+"_"+o.tipo_manga.id+"_"+e.altura.codigo)),t.Q6J("cdkDragDisabled",o.disabledAlturas.includes(o.grado.codigo+"_"+o.tipo_manga.id+"_"+e.altura.codigo))("cdkDragData",e)}}let po=(()=>{class n{constructor(){this.pruebasChange=new t.vpe,this.disabledAlturas=[],this.alturasf=[],this.displayedColumns=["tipoManga","grado","altura"]}ngOnInit(){this.alturas.forEach(e=>{this.alturasf.push({grado:this.grado,tipo_manga:this.tipo_manga,altura:e})}),this.disabledAlturas=[],this.pruebas.forEach(e=>{e.mangas?.forEach(o=>{o.turnos.forEach(a=>{a.alturas.forEach(i=>{this.disabledAlturas.push(e.grado?.codigo+"_"+o.tipoMangaId+"_"+i.codigo)})})})})}ngOnChanges(){}getPistas(){const e=[];for(let o=1;o<=this.pistas;o++)for(let a=1;a<=this.turnos;a++)e.push("pista_"+o+"_turno_"+a);return e}drop(e){if(e.previousContainer===e.container)this.disabledAlturas.pop(),(0,m.bA)(e.container.data,e.previousIndex,e.currentIndex);else{this.disabledAlturas=this.disabledAlturas.filter(a=>a!==e.item.data.grado.codigo+"_"+e.item.data.tipo_manga.id+"_"+e.item.data.altura.codigo);const o=e.previousContainer.data.splice(e.previousIndex,1);this.pruebas.forEach(a=>{a.grado.id==o[0].grado.id&&a.mangas?.forEach(i=>{i.tipoMangaId==o[0].tipo_manga.id&&i.turnos.forEach(s=>{const d=s.alturas.findIndex(g=>g.codigo==o[0].altura.codigo);d>=0&&s.alturas.splice(d,1),0==s.alturas.length&&(i.pistas=[],i.pista=void 0)})})}),this.pruebasChange.emit(this.pruebas)}}exited(e){const o=e.container.data.findIndex(a=>a.altura.codigo===e.item.data.altura.codigo);this.alturasf.splice(o+1,0,{altura:{...e.item.data.altura,temp:!0},tipo_manga:{...e.item.data.tipo_manga},grado:{...e.item.data.grado}}),this.table.renderRows()}entered(){this.alturasf=this.alturasf.filter(e=>!e.altura.temp)}dropped(e){this.disabledAlturas.push(e.item.data.grado.codigo+"_"+e.item.data.tipo_manga.id+"_"+e.item.data.altura.codigo),this.alturasf=this.alturasf.filter(o=>!o.altura.temp),this.table.renderRows()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-evento-alturas"]],viewQuery:function(e,o){if(1&e&&t.Gf(c.BZ,5),2&e){let a;t.iGM(a=t.CRH())&&(o.table=a.first)}},inputs:{grado:"grado",alturas:"alturas",tipo_manga:"tipo_manga",pistas:"pistas",turnos:"turnos",pruebas:"pruebas"},outputs:{pruebasChange:"pruebasChange"},features:[t.TTD],decls:8,vars:5,consts:[["mat-table","","cdkDropList","","cdkDropListSortingDisabled","","cdkDropListOrientation","vertical",1,"mat-elevation-z8",3,"dataSource","cdkDropListConnectedTo","id","cdkDropListData","cdkDropListDropped","cdkDropListExited","cdkDropListEntered"],["matColumnDef","tipoManga"],["mat-cell","",4,"matCellDef"],["matColumnDef","grado"],["matColumnDef","altura"],["mat-row","","cdkDrag","",3,"cdkDragDisabled","cdkDragData","disabled-row","cdkDragDropped",4,"matRowDef","matRowDefColumns"],["mat-cell",""],["mat-row","","cdkDrag","",3,"cdkDragDisabled","cdkDragData","cdkDragDropped"]],template:function(e,o){1&e&&(t.TgZ(0,"table",0),t.NdJ("cdkDropListDropped",function(i){return o.drop(i)})("cdkDropListExited",function(i){return o.exited(i)})("cdkDropListEntered",function(){return o.entered()}),t.ynx(1,1),t.YNc(2,io,2,1,"td",2),t.BQk(),t.ynx(3,3),t.YNc(4,so,2,1,"td",2),t.BQk(),t.ynx(5,4),t.YNc(6,co,2,1,"td",2),t.BQk(),t.YNc(7,lo,1,4,"tr",5),t.qZA()),2&e&&(t.Q6J("dataSource",o.alturasf)("cdkDropListConnectedTo",o.getPistas())("id","grado_"+o.grado.codigo+"_tipomanga_"+o.tipo_manga.id)("cdkDropListData",o.alturasf),t.xp6(7),t.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[m.Wj,m.Zt,c.BZ,c.w1,c.Dz,c.nj,c.ev,c.Gk],styles:["tr.mat-row[_ngcontent-%COMP%]{height:23px!important}.mat-column-tipoManga[_ngcontent-%COMP%]{min-width:10rem;max-width:10rem}.mat-column-grado[_ngcontent-%COMP%]{min-width:5rem;max-width:5rem}.mat-column-altura[_ngcontent-%COMP%]{min-width:3rem;max-width:3rem}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}tr[_ngcontent-%COMP%]:not(.disabled-row):hover{cursor:move}tr.disabled-row[_ngcontent-%COMP%]{background:#cfcdcdec}"]}),n})();function uo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"app-evento-alturas",3),t.NdJ("pruebasChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.pruebas=a)})("pruebasChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.emitirPruebasChange())}),t.qZA()()}if(2&n){const e=r.$implicit,o=t.oxw();t.xp6(1),t.Q6J("grado",o.grado)("alturas",o.alturas)("pistas",o.pistas)("turnos",o.turnos)("tipo_manga",e)("pruebas",o.pruebas)}}let mo=(()=>{class n{constructor(){this.pruebasChange=new t.vpe,this.displayedColumns=["tipoManga","grado","altura"],this.disabledAlturas=[]}ngOnInit(){}getPistas(){const e=[];for(let o=1;o<=this.pistas;o++)for(let a=1;a<=this.turnos;a++)e.push("pista_"+o+"_turno_"+a);return e}drop(e){console.log(e),e.previousContainer===e.container?(this.disabledAlturas.pop(),(0,m.bA)(e.container.data,e.previousIndex,e.currentIndex)):(0,m.EA)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}emitirPruebasChange(){this.pruebasChange.emit(this.pruebas)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-evento-prueba"]],inputs:{grado:"grado",alturas:"alturas",pistas:"pistas",turnos:"turnos",pruebas:"pruebas"},outputs:{pruebasChange:"pruebasChange"},decls:4,vars:2,consts:[[1,"cabecera-grado"],[1,"container"],[4,"ngFor","ngForOf"],[3,"grado","alturas","pistas","turnos","tipo_manga","pruebas","pruebasChange"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t.YNc(3,uo,2,6,"div",2),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",o.grado.descripcion,"\n"),t.xp6(2),t.Q6J("ngForOf",o.grado.tipos_manga))},dependencies:[f.sg,po],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:2rem}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-basis:150rem}.cabecera-grado[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:2rem}"]}),n})();function go(n,r){if(1&n&&(t.TgZ(0,"td",7),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.tipo_manga.descripcion,"\n")}}function fo(n,r){if(1&n&&(t.TgZ(0,"td",7),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.grado.codigo,"\n")}}function _o(n,r){if(1&n&&(t.TgZ(0,"td",7),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.altura.codigo,"\n")}}function ho(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",8),t.NdJ("cdkDragEnded",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.dropped(a))}),t.qZA()}2&n&&t.Q6J("cdkDragData",r.$implicit)}let Co=(()=>{class n{constructor(e){this.cdr=e,this.pruebasChange=new t.vpe,this.alturasChange=new t.vpe,this.displayedColumns=["tipoManga","grado","altura"]}ngAfterViewInit(){this.cdr.detectChanges()}ngOnInit(){}ngOnChanges(e){}getMangaAlturas(){const e=[];return this.reglamento.grados.forEach(o=>{o.tipos_manga?.forEach(a=>{e.push("grado_"+o.codigo+"_tipomanga_"+a.id)})}),e}drop(e){if(e.previousContainer===e.container)(0,m.bA)(e.container.data,e.previousIndex,e.currentIndex);else{(0,m.jR)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex);const o=e.previousContainer.data[e.previousIndex];console.log(o),this.pruebas.forEach(a=>{a.grado.id==o.grado.id&&a.mangas?.forEach(i=>{i.tipoMangaId==o.tipo_manga.id&&(i.pistas=[this.pista],i.pista=this.pista,i.turnos.forEach(s=>{s.numero_turno==this.turno&&s.alturas.push(o.altura)}))})}),this.pruebasChange.emit(this.pruebas),console.log("vamos a emitir",this.alturas),this.alturasChange.emit(this.alturas)}this.table.renderRows()}canDrop(){return(e,o)=>0==o.data.length||e.data.grado.id==o.data[0].grado.id&&e.data.tipo_manga.id==o.data[0].tipo_manga.id}dropped(e){e.previousContainer?.id||setTimeout(()=>this.table.renderRows(),50)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-evento-pista-turno"]],viewQuery:function(e,o){if(1&e&&t.Gf(c.BZ,5),2&e){let a;t.iGM(a=t.CRH())&&(o.table=a.first)}},inputs:{pista:"pista",turno:"turno",reglamento:"reglamento",pruebas:"pruebas",alturas:"alturas"},outputs:{pruebasChange:"pruebasChange",alturasChange:"alturasChange"},features:[t.TTD],decls:9,vars:9,consts:[["cdkDropList","","cdkDropListOrientation","vertical",1,"hueco",3,"id","cdkDropListConnectedTo","cdkDropListEnterPredicate","cdkDropListData","cdkDropListDropped"],["mat-table","","cdkDropList","",1,"mat-elevation-z8",3,"dataSource","cdkDropListData","cdkDropListConnectedTo","cdkDropListEnterPredicate","cdkDropListDropped"],["matColumnDef","tipoManga"],["mat-cell","",4,"matCellDef"],["matColumnDef","grado"],["matColumnDef","altura"],["mat-row","","cdkDrag","",3,"cdkDragData","cdkDragEnded",4,"matRowDef","matRowDefColumns"],["mat-cell",""],["mat-row","","cdkDrag","",3,"cdkDragData","cdkDragEnded"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.NdJ("cdkDropListDropped",function(i){return o.drop(i)}),t.TgZ(1,"table",1),t.NdJ("cdkDropListDropped",function(i){return o.drop(i)}),t.ynx(2,2),t.YNc(3,go,2,1,"td",3),t.BQk(),t.ynx(4,4),t.YNc(5,fo,2,1,"td",3),t.BQk(),t.ynx(6,5),t.YNc(7,_o,2,1,"td",3),t.BQk(),t.YNc(8,ho,1,1,"tr",6),t.qZA()()),2&e&&(t.Q6J("id","pista_"+o.pista+"_turno_"+o.turno)("cdkDropListConnectedTo",o.getMangaAlturas())("cdkDropListEnterPredicate",o.canDrop())("cdkDropListData",o.alturas[o.pista-1][o.turno-1]),t.xp6(1),t.Q6J("dataSource",o.alturas[o.pista-1][o.turno-1])("cdkDropListData",o.alturas[o.pista-1][o.turno-1])("cdkDropListConnectedTo",o.getMangaAlturas())("cdkDropListEnterPredicate",o.canDrop()),t.xp6(7),t.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[m.Wj,m.Zt,c.BZ,c.w1,c.Dz,c.nj,c.ev,c.Gk],styles:[".hueco[_ngcontent-%COMP%]{width:25rem;height:14rem;border:1px solid #d6d0d0ff;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding-top:1rem}tr.mat-row[_ngcontent-%COMP%]{height:2.3rem!important}.mat-column-tipoManga[_ngcontent-%COMP%]{min-width:10rem;max-width:10rem}.mat-column-grado[_ngcontent-%COMP%]{min-width:5rem;max-width:5rem}.mat-column-altura[_ngcontent-%COMP%]{min-width:3rem;max-width:3rem}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),n})();function bo(n,r){if(1&n&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" Turno ",e," ")}}function vo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",8)(1,"app-evento-pista-turno",9),t.NdJ("pruebasChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.emitirPruebasChange())})("alturasChange",function(a){t.CHM(e);const i=t.oxw(2);return t.KtG(i.alturas=a)}),t.qZA()()}if(2&n){const e=r.$implicit,o=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.Q6J("pista",o)("turno",e)("reglamento",a.reglamento)("pruebas",a.jornada.pruebas)("alturas",a.alturas)}}function xo(n,r){if(1&n&&(t.TgZ(0,"div",1)(1,"div",6),t._uU(2),t.qZA(),t.YNc(3,vo,2,5,"div",7),t.qZA()),2&n){const e=r.$implicit,o=t.oxw();t.xp6(2),t.hij(" Pista ",e," "),t.xp6(1),t.Q6J("ngForOf",o.turnos)}}let Zo=(()=>{class n{constructor(){this.jornadaChange=new t.vpe,this._alturas=[]}get pistas(){return this.jornada?Array.from(Array(this.jornada.pistas).keys()).map(e=>e+1):[]}get turnos(){return this.jornada?Array.from(Array(this.jornada.turnos).keys()).map(e=>e+1):[]}get pistas_turnos(){return this.jornada?Array.from(Array(this.jornada.pistas*this.jornada.turnos).keys()).map(e=>({pista:Math.ceil(e/this.jornada?.pistas),turno:e-this.jornada?.turnos*(Math.ceil(e/this.jornada?.pistas)-1)})):[]}ngOnChanges(e){console.log(e)}ngOnInit(){this.talturas=[],this.pistas.forEach((e,o)=>{this.talturas[o]=[],this.turnos.forEach((a,i)=>{const s=this.getAlturas(e,a);this.talturas[o][i]=s})}),this.pistas.forEach((e,o)=>{this._alturas[o]=[],this.turnos.forEach((a,i)=>{const s=this.getAlturas(e,a);this._alturas[o][i]=s})})}set alturas(e){this._alturas=e}get alturas(){return this._alturas}getAlturas(e,o){const a=[];return this.jornada?.pruebas.forEach(i=>{i.mangas?.forEach(s=>{s.pista===e&&s.turnos.forEach(d=>{d.numero_turno==o&&d.alturas.forEach(g=>{a.push({grado:i.grado,tipo_manga:s.tipo_manga,altura:g})})})})}),a}emitirPruebasChange(){this.jornadaChange.emit(this.jornada)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-evento-cronograma"]],inputs:{jornada:"jornada",reglamento:"reglamento"},outputs:{jornadaChange:"jornadaChange"},features:[t.TTD],decls:5,vars:2,consts:[[1,"container"],[1,"pista"],[1,"cabecera-turnos-pista"],["class","cabecera-turnos",4,"ngFor","ngForOf"],["class","pista",4,"ngFor","ngForOf"],[1,"cabecera-turnos"],[1,"cabecera-pista"],["class","turno",4,"ngFor","ngForOf"],[1,"turno"],[3,"pista","turno","reglamento","pruebas","alturas","pruebasChange","alturasChange"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.YNc(3,bo,2,1,"div",3),t.qZA(),t.YNc(4,xo,4,2,"div",4),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngForOf",o.turnos),t.xp6(1),t.Q6J("ngForOf",o.pistas))},dependencies:[f.sg,Co],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.pista[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:2rem}.cabecera-pista[_ngcontent-%COMP%]{width:7rem;height:14rem;display:flex;align-items:center}.cabecera-turnos[_ngcontent-%COMP%]{width:25rem;height:2rem;display:flex;justify-content:center}.cabecera-turnos-pista[_ngcontent-%COMP%]{width:7rem;height:2rem}.turno[_ngcontent-%COMP%]{width:25rem;height:14rem}"]}),n})();function To(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-evento-prueba",4),t.NdJ("pruebasChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.jornada.pruebas=a)}),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw();t.Q6J("grado",e)("alturas",o.reglamento.alturas)("pistas",o.jornada.pistas)("turnos",o.jornada.turnos)("pruebas",o.jornada.pruebas)}}let Do=(()=>{class n{constructor(){this.reglamento=null,this.jornadaChange=new t.vpe}ngOnInit(){console.log(this.jornada?.pruebas)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-evento-config"]],inputs:{reglamento:"reglamento",jornada:"jornada"},outputs:{jornadaChange:"jornadaChange"},decls:5,vars:3,consts:[[1,"container"],[1,"pruebas"],[3,"grado","alturas","pistas","turnos","pruebas","pruebasChange",4,"ngFor","ngForOf"],[3,"jornada","reglamento"],[3,"grado","alturas","pistas","turnos","pruebas","pruebasChange"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,To,1,5,"app-evento-prueba",2),t.qZA(),t.TgZ(3,"div"),t._UZ(4,"app-evento-cronograma",3),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngForOf",o.reglamento.grados),t.xp6(2),t.Q6J("jornada",o.jornada)("reglamento",o.reglamento))},dependencies:[f.sg,mo,Zo],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:4rem}.pruebas[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}"]}),n})();function ko(n,r){1&n&&t._uU(0,"Datos del evento")}function Ao(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-evento-generales",7),t.NdJ("reglamentoChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.reglamento=a)})("eventoChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.evento=a)})("jornadaBaseChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.jornadaBase=a)}),t.qZA(),t.TgZ(1,"button",8),t._uU(2,"Siguiente"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("reglamento",e.reglamento)("config",e.config)("evento",e.evento)("jornadaBase",e.jornadaBase)}}function wo(n,r){1&n&&t._uU(0,"Configuraci\xf3n jornada base")}function yo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-evento-jornada",9),t.NdJ("jornadaChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.jornadaBase=a)}),t.qZA(),t.TgZ(1,"div")(2,"button",5),t._uU(3,"Anterior"),t.qZA(),t.TgZ(4,"button",8),t._uU(5,"Siguiente"),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("reglamento",e.reglamento)("jornada",e.jornadaBase)}}function Po(n,r){1&n&&t._uU(0,"Configuracion")}function Fo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-evento-config",9),t.NdJ("jornadaChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.jornadaBase=a)}),t.qZA(),t.TgZ(1,"div")(2,"button",5),t._uU(3,"Anterior"),t.qZA(),t.TgZ(4,"button",8),t._uU(5,"Siguiente"),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("reglamento",e.reglamento)("jornada",e.jornadaBase)}}function Eo(n,r){1&n&&t._uU(0,"Configuraci\xf3n portatiles y pantallas")}function Oo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-evento-perifericos",10),t.NdJ("jornadaChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.jornadaBase=a)}),t.qZA(),t.TgZ(1,"button",5),t._uU(2,"Anterior"),t.qZA(),t.TgZ(3,"button",8),t._uU(4,"Siguiente"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("reglamento",e.reglamento)("jornada",e.jornadaBase)("evento",e.evento)}}function Lo(n,r){1&n&&t._uU(0,"Configuraci\xf3n de las pistas")}function jo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-evento-pistas",11),t.NdJ("jornadaChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.jornadaBase=a)}),t.qZA(),t.TgZ(1,"button",5),t._uU(2,"Anterior"),t.qZA(),t.TgZ(3,"button",8),t._uU(4,"Siguiente"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("jornada",e.jornadaBase)}}function Uo(n,r){1&n&&t._uU(0,"Configuraci\xf3n de la prueba")}function qo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-evento-turnos",12),t.NdJ("jornadaChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.jornadaBase=a)})("pruebasChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.jornadaBase.pruebas=a)}),t.qZA(),t.TgZ(1,"button",5),t._uU(2,"Anterior"),t.qZA(),t.TgZ(3,"button",8),t._uU(4,"Siguiente"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("jornada",e.jornadaBase)("pruebas",e.jornadaBase.pruebas)("reglamento",e.reglamento)}}function Mo(n,r){1&n&&t._uU(0,"A saltar")}let bt=(()=>{class n{constructor(e,o,a,i,s,d,g,C){this.fb=e,this.activatedRoute=o,this.router=a,this.clubesService=i,this.reglamentosService=s,this.federacionesService=d,this.eventosService=g,this.horaPipe=C,this.reglamento=null,this.jornadaBase=null,this.distribucion=[]}ngOnInit(){}guardar(){console.log(this.evento),console.log(this.jornadaBase),this.eventosService.putEvento(this.evento,this.jornadaBase).subscribe(e=>{console.log(e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(_.gz),t.Y36(_.F0),t.Y36(B),t.Y36(X),t.Y36(J),t.Y36(it),t.Y36(K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-evento"]],viewQuery:function(e,o){if(1&e&&t.Gf(m.Wj,5),2&e){let a;t.iGM(a=t.CRH())&&(o.childLists=a)}},decls:30,vars:3,consts:[["linear",""],["stepper",""],[3,"editable"],["matStepLabel",""],["matStepContent",""],["mat-button","","matStepperPrevious",""],["mat-button","","type","input",3,"click"],[3,"reglamento","config","evento","jornadaBase","reglamentoChange","eventoChange","jornadaBaseChange"],["mat-button","","matStepperNext",""],[3,"reglamento","jornada","jornadaChange"],[3,"reglamento","jornada","evento","jornadaChange"],[3,"jornada","jornadaChange"],[3,"jornada","pruebas","reglamento","jornadaChange","pruebasChange"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-stepper",0,1)(2,"mat-step",2),t.YNc(3,ko,1,0,"ng-template",3),t.YNc(4,Ao,3,4,"ng-template",4),t.qZA(),t.TgZ(5,"mat-step",2),t.YNc(6,wo,1,0,"ng-template",3),t.YNc(7,yo,6,2,"ng-template",4),t.qZA(),t.TgZ(8,"mat-step",2),t.YNc(9,Po,1,0,"ng-template",3),t.YNc(10,Fo,6,2,"ng-template",4),t.qZA(),t.TgZ(11,"mat-step"),t.YNc(12,Eo,1,0,"ng-template",3),t.YNc(13,Oo,5,3,"ng-template",4),t.qZA(),t.TgZ(14,"mat-step"),t.YNc(15,Lo,1,0,"ng-template",3),t.YNc(16,jo,5,1,"ng-template",4),t.qZA(),t.TgZ(17,"mat-step"),t.YNc(18,Uo,1,0,"ng-template",3),t.YNc(19,qo,5,3,"ng-template",4),t.qZA(),t.TgZ(20,"mat-step"),t.YNc(21,Mo,1,0,"ng-template",3),t.TgZ(22,"p"),t._uU(23,"You are now done."),t.qZA(),t.TgZ(24,"div")(25,"button",5),t._uU(26,"Anterior"),t.qZA(),t.TgZ(27,"button",6),t.NdJ("click",function(){return o.guardar()}),t._uU(28,"Guardar"),t.qZA()()()(),t._UZ(29,"div")),2&e&&(t.xp6(2),t.Q6J("editable",!0),t.xp6(3),t.Q6J("editable",!0),t.xp6(3),t.Q6J("editable",!0))},dependencies:[Z.lW,U.C0,U.VY,U.Vq,U.Ic,U.fd,U.BY,qn,Mn,Bn,Kn,ro,Do],styles:[".contenedor[_ngcontent-%COMP%]{max-width:120rem;margin:1rem auto 0}.header[_ngcontent-%COMP%]{display:flex;gap:10px}.header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){flex-basis:5%}.header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){flex-basis:45%}.header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){flex-basis:5%}.header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){flex-basis:45%}.hueco[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:40px;background:white;border-radius:4px;overflow:hidden;display:flex;flex-direction:row;height:40px;justify-content:center;align-items:center;flex-basis:calc(25% - 1rem);box-sizing:border-box;gap:5px;padding-left:5px;margin-bottom:5px}.sinborde[_ngcontent-%COMP%]{border:none}.altura[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;justify-content:center;align-items:center;border:solid 1px #ccc;min-height:30px;background:white;border-radius:4px;overflow:hidden;cursor:move}.pista[_ngcontent-%COMP%]{width:110px;height:30px;display:flex;justify-content:center;align-items:center;border:solid 1px #ccc;min-height:30px;background:white;border-radius:4px;overflow:hidden;cursor:move}.manga[_ngcontent-%COMP%]{display:flex;gap:5px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,1,.2)}.hueco.cdk-drop-list-dragging[_ngcontent-%COMP%]   .hueco[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,1,.2)}"]}),n})();var vt=u(1865);function No(n,r){if(1&n&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.tipoManga,"\n")}}function Jo(n,r){if(1&n&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.grado,"\n")}}function Io(n,r){if(1&n&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.altura,"\n")}}function So(n,r){1&n&&t._UZ(0,"td",13)}function Yo(n,r){1&n&&t._UZ(0,"td",13)}function Qo(n,r){1&n&&(t.TgZ(0,"th",14),t._uU(1," \xa0 "),t.qZA())}function Go(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",13)(1,"button",15),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.activarPeriferico(i))}),t.TgZ(2,"mat-icon"),t._uU(3,"sync"),t.qZA()()()}}function Ro(n,r){1&n&&t._UZ(0,"tr",16)}let $o=(()=>{class n{constructor(e){this.perifericosService=e,this._pitufoConectado="not connected",this.displayedColumns=["tipoManga","grado","altura","participantes","estado","activar"]}set pitufoConectado(e){console.log("putufo:",e),this._pitufoConectado=e}get pitufoConectado(){return this._pitufoConectado}ngOnInit(){console.log(this.turno)}activarPeriferico(e){!this._pitufoConectado||this.perifericosService.activarPeriferico(this._pitufoConectado,this.crono,e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(vt.n))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-panel-turno"]],inputs:{turno:"turno",pitufoConectado:"pitufoConectado",crono:"crono"},decls:19,vars:3,consts:[["fxLayout","row"],["fxFlex","5","fxLayoutAlign","center center",1,"borde-turno"],["fxFlex","95"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","tipoManga"],["mat-cell","",4,"matCellDef"],["matColumnDef","grado"],["matColumnDef","altura"],["matColumnDef","participantes"],["matColumnDef","estado"],["matColumnDef","activar"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["mat-icon-button","",3,"click"],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"table",3),t.ynx(5,4),t.YNc(6,No,2,1,"td",5),t.BQk(),t.ynx(7,6),t.YNc(8,Jo,2,1,"td",5),t.BQk(),t.ynx(9,7),t.YNc(10,Io,2,1,"td",5),t.BQk(),t.ynx(11,8),t.YNc(12,So,1,0,"td",5),t.BQk(),t.ynx(13,9),t.YNc(14,Yo,1,0,"td",5),t.BQk(),t.ynx(15,10),t.YNc(16,Qo,2,0,"th",11),t.YNc(17,Go,4,0,"td",5),t.BQk(),t.YNc(18,Ro,1,0,"tr",12),t.qZA()()()),2&e&&(t.xp6(2),t.hij(" ",o.turno[0].turno," "),t.xp6(2),t.Q6J("dataSource",o.turno),t.xp6(14),t.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[p.xw,p.Wh,p.yH,Z.lW,F.Hw,c.BZ,c.fO,c.w1,c.Dz,c.nj,c.ge,c.ev,c.Gk],styles:[".mat-column-tipoManga[_ngcontent-%COMP%]{min-width:20rem;max-width:20rem}.mat-column-grado[_ngcontent-%COMP%]{min-width:7rem;max-width:7rem}.mat-column-altura[_ngcontent-%COMP%]{min-width:3rem;max-width:3rem}.borde-turno[_ngcontent-%COMP%]{background-color:#cecdcde3}tr.mat-row[_ngcontent-%COMP%]{height:23px!important}"]}),n})();function Bo(n,r){if(1&n&&t._UZ(0,"app-panel-turno",6),2&n){const e=r.$implicit,o=t.oxw();t.Q6J("turno",o.getTurno(e))("pitufoConectado",null==o.config_pista?null:o.config_pista.pitufoConectado)("crono",null==o.config_pista||null==o.config_pista.crono?null:o.config_pista.crono.email)}}let Ho=(()=>{class n{constructor(e){this.perifericosService=e,this.turnos=[]}ngOnChanges(e){}ngOnInit(){this.perifericoConectado=this.perifericosService.getPerifericoActivo(),this.perifericosService.emitirPerifericoActivo(this.config_pista?.pitufoUid,e=>{this.config_pista.pitufoConectado=e.conectado.length>0&&this.config_pista?e.conectado[0].id:void 0}),this.perifericosService.emitirPerifericoActivo(this.config_pista?.cronoUid,e=>{this.config_pista.cronoConectado=e.conectado.length>0&&this.config_pista?e.conectado[0].id:void 0}),this.perifericoConectado.subscribe(e=>{this.config_pista?.pitufoUid===e.uid&&(this.config_pista.pitufoConectado=e.conectado.length>0?e.conectado[0].id:void 0),this.config_pista?.cronoUid===e.uid&&(this.config_pista.cronoConectado=e.conectado.length>0?e.conectado[0].id:void 0)})}activarPeriferico(e){}getTurno(e){return this.turnos.filter(o=>o.turno===e)}get numero_turnos(){return Array.from(Array([...this.turnos].sort((e,o)=>o.turno-e.turno)[0].turno).keys()).map(e=>e+1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(vt.n))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-panel-pista"]],inputs:{turnos:"turnos",config_pista:"config_pista"},features:[t.TTD],decls:15,vars:12,consts:[[1,"pista"],[1,"header"],[1,"turnos"],[3,"turno","pitufoConectado","crono",4,"ngFor","ngForOf"],[1,"perifericos"],[1,"periferico"],[3,"turno","pitufoConectado","crono"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p"),t._uU(3),t.qZA()(),t.TgZ(4,"div",2),t.YNc(5,Bo,1,3,"app-panel-turno",3),t.qZA(),t.TgZ(6,"div",4)(7,"div",5),t._uU(8),t.qZA(),t.TgZ(9,"div",5),t._uU(10),t.qZA(),t.TgZ(11,"div",5),t._uU(12),t.qZA(),t.TgZ(13,"div",5),t._uU(14),t.qZA()()()),2&e&&(t.xp6(3),t.hij(" Pista ",null==o.config_pista?null:o.config_pista.numero," "),t.xp6(2),t.Q6J("ngForOf",o.numero_turnos),t.xp6(2),t.ekj("conectado",null==o.config_pista?null:o.config_pista.pantallaConectado),t.xp6(1),t.hij(" ",null==o.config_pista||null==o.config_pista.pantalla?null:o.config_pista.pantalla.nombre," "),t.xp6(1),t.ekj("conectado",null==o.config_pista?null:o.config_pista.pitufoConectado),t.xp6(1),t.hij(" ",null==o.config_pista||null==o.config_pista.pitufo?null:o.config_pista.pitufo.nombre," "),t.xp6(1),t.ekj("conectado",null==o.config_pista?null:o.config_pista.cronoConectado),t.xp6(1),t.hij(" ",null==o.config_pista||null==o.config_pista.crono?null:o.config_pista.crono.nombre," "),t.xp6(2),t.hij(" ",null==o.config_pista||null==o.config_pista.suturno?null:o.config_pista.suturno.nombre," "))},dependencies:[f.sg,$o],styles:['.perifericos[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-area:perifericos;justify-content:space-evenly}.periferico[_ngcontent-%COMP%]{width:90px;height:30px;display:flex;justify-content:center;align-items:center;border:solid 1px #ccc;min-height:30px;background:white;border-radius:4px;overflow:hidden;cursor:pointer}.conectado[_ngcontent-%COMP%]{background-color:#5bdf5be0}.turnos[_ngcontent-%COMP%]{display:flex;flex-direction:column}.turnos[_ngcontent-%COMP%] > app-panel-turno[_ngcontent-%COMP%]{flex-basis:8rem}.pista[_ngcontent-%COMP%]{display:grid;grid-template-areas:"header" "turnos" "perifericos";grid-template-columns:1fr;grid-template-rows:10% 80% 10%;height:100%}.header[_ngcontent-%COMP%]{grid-area:header}.turnos[_ngcontent-%COMP%]{grid-area:turnos}']}),n})();function zo(n,r){if(1&n&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.nombre," ")}}function Wo(n,r){if(1&n&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",r.index),t.xp6(1),t.hij(" ",e.nombre," ")}}function Xo(n,r){if(1&n&&(t.TgZ(0,"div",9),t._UZ(1,"app-panel-pista",10),t.qZA()),2&n){const e=r.$implicit,o=t.oxw();t.xp6(1),t.Q6J("config_pista",o.getConfigPista(e))("turnos",o.getTurnosPista(e))}}let Ko=(()=>{class n{constructor(e,o,a){this.fb=e,this.eventosService=o,this.jornadasService=a,this.eventos=[],this.jornadas=[],this.eventoForm=this.fb.group({eventoId:[],jornadaIdx:[],numero_pista:[],horarioId:[]})}get pistas(){return null==this.jornada?[]:Array.from(Array(this.jornada.pistas).keys()).map(e=>e+1)}ngOnInit(){this.eventosService.getEventos().subscribe(e=>{console.log(e),this.eventos=e.rows}),this.eventoForm.get("eventoId")?.valueChanges.pipe((0,N.b)(e=>{this.eventoForm.get("jornadaId")?.touched&&this.eventoForm.get("jornadaId")?.reset(""),this.jornadas=[]}),(0,x.w)(e=>e?this.eventosService.getEvento(e):(0,P.of)(null))).subscribe(e=>{null!==e&&e.evento.jornadas&&(this.jornadas=e.evento.jornadas)}),this.eventoForm.get("jornadaIdx")?.valueChanges.subscribe(e=>{this.jornadasService.getJornadaById(this.jornadas[e].id).subscribe(o=>{this.jornada=o,console.log(o)})})}getTurnosPista(e){return this.jornada.pruebas.map(o=>({mangas:o.mangas?.filter(a=>a.pista===e),grado:o.grado})).reduce((o,a)=>{if(a&&a?.mangas&&a?.mangas?.length>0){const i=this.jornada.id,s=a.grado?.descripcion,d=a.mangas[0].pruebaId,g=a.mangas[0].id,C=a.mangas[0].pista,V=a.mangas[0].tipo_manga.descripcion;a.mangas[0].turnos.forEach(S=>{const st=S.numero_turno;S.alturas.forEach(tt=>{const lt=tt.Turno_Altura?.orden;o.push({jornadaId:i,grado:s,pruebaId:d,mangaId:g,tipoManga:V,pista:C,turno:st,altura:tt.codigo,turno_altura:lt})})})}return o},[]).sort((o,a)=>100*o.turno+o.turno_altura-100*a.turno+a.turno_altura)}getConfigPista(e){return this.jornada.config_pistas?.find(a=>a.numero===e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(it),t.Y36(rt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-control-panel-pista"]],decls:16,vars:4,consts:[[3,"formGroup"],[1,"contenedor"],["fxFlex","100"],["formControlName","eventoId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","jornadaIdx"],[1,"control-panel"],["class","panel",4,"ngFor","ngForOf"],[3,"value"],[1,"panel"],[3,"config_pista","turnos"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div")(3,"mat-form-field",2)(4,"mat-label"),t._uU(5,"Evento"),t.qZA(),t.TgZ(6,"mat-select",3),t.YNc(7,zo,2,2,"mat-option",4),t.qZA()()(),t.TgZ(8,"div")(9,"mat-form-field",2)(10,"mat-label"),t._uU(11,"Jornada"),t.qZA(),t.TgZ(12,"mat-select",5),t.YNc(13,Wo,2,2,"mat-option",4),t.qZA()()()()(),t.TgZ(14,"div",6),t.YNc(15,Xo,2,2,"div",7),t.qZA()),2&e&&(t.Q6J("formGroup",o.eventoForm),t.xp6(7),t.Q6J("ngForOf",o.eventos),t.xp6(6),t.Q6J("ngForOf",o.jornadas),t.xp6(2),t.Q6J("ngForOf",o.pistas))},dependencies:[f.sg,p.yH,l._Y,l.JJ,l.JL,l.sg,l.u,h.KE,h.hX,z.gD,W.ey,Ho],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.contenedor[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-basis:50rem}.control-panel[_ngcontent-%COMP%]{display:grid;gap:1rem;align-content:center;justify-items:center;grid-template-columns:25% 25% 25% 25%;grid-template-rows:70rem}"]}),n})();var Vo=u(8223);let ta=(()=>{class n{constructor(e){this.wsService=e}emitirCronosSinAsignar(){this.wsService.emit("cronos-sinasignar")}getCronosSinAsignar(){return this.wsService.listen("cronos-sinasignar")}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Vo.i))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ea=[{path:"",component:Et,children:[{path:"home",component:kt},{path:"clubes",component:$t},{path:"agregarClub",component:ft},{path:"editarClub/:id",component:ft},{path:"perros",component:Bt},{path:"guias",component:le},{path:"jueces",component:pe},{path:"pruebas",component:de},{path:"federaciones",component:Fe},{path:"agregarFederacion",component:_t},{path:"editarFederacion/:id",component:_t},{path:"reglamentos",component:Re},{path:"agregarReglamento",component:ht},{path:"editarReglamento/:id",component:ht},{path:"editarJornada/:id",component:xn},{path:"ordenSalida/:id/:horario",component:On},{path:"nuevoEvento",component:bt},{path:"editarEvento/:id",component:bt},{path:"inicioManga",component:Ko},{path:"cronos",component:(()=>{class n{constructor(e,o){this.cronosService=e,this.usuariosService=o}ngOnInit(){this.usuariosService.getUsuariosByPerfil(I.Z.Crono).subscribe(e=>{this.cronos=e}),this.cronosSinAsignar=this.cronosService.getCronosSinAsignar(),this.cronosService.emitirCronosSinAsignar(),this.cronosSinAsignar.subscribe(e=>{console.log(e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ta),t.Y36(Ct))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-zonecron"]],decls:7,vars:6,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"zonecron works!"),t.qZA(),t._uU(2),t.ALo(3,"json"),t._UZ(4,"br"),t._uU(5),t.ALo(6,"async")),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,o.cronos),"\n"),t.xp6(3),t.hij(" ",t.lcZ(6,4,o.cronosSinAsignar),"\n"))},dependencies:[f.Ov,f.Ts]}),n})()},{path:"**",redirectTo:"home"}]}];let na=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.Bz.forChild(ea),_.Bz]}),n})();var oa=u(4466);let aa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[K],imports:[f.ez,Dt.o9,l.UX,Tt.q,na,oa.m]}),n})()}}]);