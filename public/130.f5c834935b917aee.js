"use strict";(self.webpackChunkAgilityFrontEnd=self.webpackChunkAgilityFrontEnd||[]).push([[130],{130:(I,u,e)=>{e.r(u),e.d(u,{AuthModule:()=>J});var d=e(6895),l=e(9299),n=e(4006),g=e(9063),t=e(4650),h=e(6518),f=e(4641),p=e(8223),v=e(4859),A=e(3546),Z=e(4850),s=e(9549),F=e(4144),m=e(1576);function y(o,i){if(1&o&&(t.TgZ(0,"mat-error"),t._UZ(1,"span",9),t.qZA()),2&o){const r=t.oxw();t.xp6(1),t.Q6J("innerHtml",r.emailErrorMsg,t.oJD)}}function x(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Password is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}const C=[{path:"",children:[{path:"login",component:(()=>{class o{constructor(r,a,c,M,U){this.authService=r,this.router=a,this.fb=c,this.vs=M,this.wsService=U,this.loginForm=this.fb.group({email:["hbarrenkua@gmail.com",[n.kI.required]],password:["hilario",[n.kI.required]]})}get emailErrorMsg(){const r=this.loginForm.get("email")?.errors;return r?.required?"Email is <strong>required</strong>":r?.pattern?"Please enter a valid email address":""}ngOnInit(){}emailRequired(){return this.loginForm.get("email")?.errors?.required&&this.loginForm.get("email")?.touched}emailFormato(){return this.loginForm.get("email")?.errors?.pattern&&this.loginForm.get("email")?.touched}campoEsValido(r){return this.loginForm.get(r)?.errors&&this.loginForm.get(r)?.touched}login(){this.loginForm.valid?this.authService.login(this.loginForm.value).subscribe(a=>{switch(a.usuario.perfil){case g.Z.Admin:this.router.navigate(["./consola"]);break;case g.Z.Pitufo:this.router.navigate(["./pitufo"])}}):this.loginForm.markAllAsTouched()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(h.e),t.Y36(l.F0),t.Y36(n.qu),t.Y36(f.O),t.Y36(p.i))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:21,vars:3,consts:[[1,"centrado"],["fxLayout","column","fxLayoutAlign","end center"],["fxLayoutGap","10px"],[3,"formGroup","ngSubmit"],["appearance","fill",1,"full-width"],["type","email","matInput","","formControlName","email","placeholder","Ex. pat@example.com"],[4,"ngIf"],["type","password","matInput","","formControlName","password","placeholder",""],["type","submit","mat-raised-button","","color","primary","appearance","fill",1,"full-width"],[3,"innerHtml"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"div")(4,"h1"),t._uU(5,"Inicie sesi\xf3n"),t.qZA(),t._UZ(6,"mat-divider")(7,"br"),t.qZA(),t.TgZ(8,"form",3),t.NdJ("ngSubmit",function(){return a.login()}),t.TgZ(9,"mat-form-field",4)(10,"mat-label"),t._uU(11,"Email"),t.qZA(),t._UZ(12,"input",5),t.YNc(13,y,2,1,"mat-error",6),t.qZA(),t.TgZ(14,"mat-form-field",4)(15,"mat-label"),t._uU(16,"Password"),t.qZA(),t._UZ(17,"input",7),t.YNc(18,x,4,0,"mat-error",6),t.qZA(),t.TgZ(19,"button",8),t._uU(20," Login "),t.qZA()()()()()),2&r&&(t.xp6(8),t.Q6J("formGroup",a.loginForm),t.xp6(5),t.Q6J("ngIf",a.campoEsValido("email")),t.xp6(5),t.Q6J("ngIf",a.campoEsValido("password")))},dependencies:[d.O5,v.lW,A.a8,Z.d,s.TO,s.KE,s.hX,F.Nt,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,m.xw,m.SQ,m.Wh],styles:[".centrado[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}"]}),o})()},{path:"**",redirectTo:"login"}]}];let T=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Bz.forChild(C),l.Bz]}),o})();var L=e(4406),E=e(5823);let J=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,T,L.q,n.UX,E.o9]}),o})()}}]);